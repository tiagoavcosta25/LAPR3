<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1177px" preserveAspectRatio="none" style="width:1966px;height:1177px;" version="1.1" viewBox="0 0 1966 1177" width="1966px" zoomAndPan="magnify"><defs><filter height="300%" id="fee8aoqohk8it" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="946.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="234" y="105.9219"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="420" y="136.2734"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="540" y="196.625"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="649" y="256.9766"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="327.3281"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="268.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="462.1172"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="492.4688"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1193" y="685.5781"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1358" y="762.9297"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1358" y="897.7188"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1358" y="992.2891"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1671" y="1022.6406"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="95.0547" style="stroke: #000000; stroke-width: 2.0;" width="573" x="697" y="628.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="239" x2="239" y1="57.2188" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="425" x2="425" y1="57.2188" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="545" x2="545" y1="57.2188" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="654" x2="654" y1="57.2188" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="773" x2="773" y1="337.0859" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1074" x2="1074" y1="401.3047" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1198" x2="1198" y1="57.2188" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1363" x2="1363" y1="772.6875" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1676" x2="1676" y1="836.9063" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1834" x2="1834" y1="947.8281" y2="1118.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1936" x2="1936" y1="57.2188" y2="1118.3438"/><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="117" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="124" y="42.1426">:MakeAPharmacyTransferController</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="117" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="124" y="1138.877">:MakeAPharmacyTransferController</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="371" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="378" y="42.1426">PotApplication</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="371" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="378" y="1138.877">PotApplication</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="489" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="531" y="24.5332">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="496" y="42.1426">:PotApplication</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="489" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="531" y="1138.877">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="496" y="1156.4863">:PotApplication</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="611" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="622" y="24.5332">worldMap</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="618" y="42.1426">:WorldMap</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="611" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="622" y="1138.877">worldMap</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="618" y="1156.4863">:WorldMap</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="707" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="734.5" y="1138.877">pharmServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="714" y="1156.4863">:PharmacyService</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1022" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="1031.5" y="1138.877">pharamcyDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1029" y="1156.4863">:PharmacyDB</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1136" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="1143" y="42.1426">GraphAlgorithms</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1136" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="1143" y="1138.877">GraphAlgorithms</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="1270" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1297.5" y="1138.877">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="1277" y="1156.4863">:PharmacyTransferService</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1597" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1617.5" y="1138.877">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1604" y="1156.4863">:PharmacyTransferDB</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="1765" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1774.5" y="1138.877">pharmacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1772" y="1156.4863">:PharmacyTransfer</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="1914" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="1921" y="42.1426">PHS</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="1914" y="1117.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="1921" y="1138.877">PHS</text><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="946.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="234" y="105.9219"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="420" y="136.2734"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="540" y="196.625"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="649" y="256.9766"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="327.3281"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="268.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="462.1172"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="492.4688"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1193" y="685.5781"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1358" y="762.9297"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1358" y="897.7188"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1358" y="992.2891"/><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1671" y="1022.6406"/><ellipse cx="10.5" cy="105.1719" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="222,101.9219,232,105.9219,222,109.9219,226,105.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="228" y1="105.9219" y2="105.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="18" y="92.8896">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="29" y="84.7139">getStockFromAnotherPharamacy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="29" y="101.0654">(order, product, quantity)</text><polygon fill="#A80036" points="408,132.2734,418,136.2734,408,140.2734,412,136.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="414" y1="136.2734" y2="136.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="131.417">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="262" y="131.417">app = getInstance()</text><polygon fill="#A80036" points="528,192.625,538,196.625,528,200.625,532,196.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="534" y1="196.625" y2="196.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="191.7686">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="262" y="191.7686">worldMap = getWorldMap()</text><polygon fill="#A80036" points="637,252.9766,647,256.9766,637,260.9766,641,256.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="643" y1="256.9766" y2="256.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="252.1201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="262" y="252.1201">graph = getGraph()</text><polygon fill="#A80036" points="695,313.3281,705,317.3281,695,321.3281,699,317.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="701" y1="317.3281" y2="317.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="312.4717">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="262" y="312.4717">create()</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="707" y="294.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="734.5" y="316.5098">pharmServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="714" y="334.1191">:PharmacyService</text><polygon fill="#A80036" points="1010,377.5469,1020,381.5469,1010,385.5469,1014,381.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="773" x2="1016" y1="381.5469" y2="381.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="780" y="376.6904">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="791" y="376.6904">create()</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1022" y="359.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="1031.5" y="380.7285">pharamcyDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1029" y="398.3379">:PharmacyDB</text><polygon fill="#A80036" points="756,458.1172,766,462.1172,756,466.1172,760,462.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="762" y1="462.1172" y2="462.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="449.085">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="262" y="440.9092">nearbyPharamcy = getClosestPharmacyWithStock</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="262" y="457.2607">(graph, pharmacy, product, quantity)</text><polygon fill="#A80036" points="1057,488.4688,1067,492.4688,1057,496.4688,1061,492.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="778" x2="1063" y1="492.4688" y2="492.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="785" y="487.6123">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="796" y="487.6123">lstPharmacies = getPharmacies()</text><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1019" y="530.4688"/><polygon fill="#EEEEEE" points="1019,530.4688,1081,530.4688,1081,538.4688,1071,548.4688,1019,548.4688,1019,530.4688" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1032" y="545.9639">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1025" y="565.9639">SD_CONNECTIONS</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="778" x2="820" y1="600.5234" y2="600.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="820" x2="820" y1="600.5234" y2="613.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="779" x2="820" y1="613.5234" y2="613.5234"/><polygon fill="#A80036" points="789,609.5234,779,613.5234,789,617.5234,785,613.5234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="785" y="595.667">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="796" y="595.667">getClosestPharmacy(address, lstPharmacies)</text><path d="M697,628.5234 L770,628.5234 L770,636.5234 L760,646.5234 L697,646.5234 L697,628.5234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="95.0547" style="stroke: #000000; stroke-width: 2.0;" width="573" x="697" y="628.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="712" y="643.0186">loop</text><polygon fill="#A80036" points="1181,681.5781,1191,685.5781,1181,689.5781,1185,685.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="778" x2="1187" y1="685.5781" y2="685.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="785" y="672.5459">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="803" y="664.3701">distance = shortestPath(graph,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="807" y="680.7217">pharmacyAddress, nearbyPharmacyAddress)</text><polygon fill="#A80036" points="1258,748.9297,1268,752.9297,1258,756.9297,1262,752.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="1264" y1="752.9297" y2="752.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="251" y="748.0732">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="269" y="748.0732">create()</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="1270" y="730.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1297.5" y="752.1113">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="1277" y="769.7207">:PharmacyTransferService</text><polygon fill="#A80036" points="1585,813.1484,1595,817.1484,1585,821.1484,1589,817.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1363" x2="1591" y1="817.1484" y2="817.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1370" y="812.292">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1388" y="812.292">create()</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1597" y="794.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1617.5" y="816.3301">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1604" y="833.9395">:PharmacyTransferDB</text><polygon fill="#A80036" points="1346,893.7188,1356,897.7188,1346,901.7188,1350,897.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="1352" y1="897.7188" y2="897.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="251" y="884.6865">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="269" y="876.5107">newPharamacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="269" y="892.8623">(order, product, quantity, nearbyPharamcy)</text><polygon fill="#A80036" points="1753,924.0703,1763,928.0703,1753,932.0703,1757,928.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1363" x2="1759" y1="928.0703" y2="928.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1370" y="923.2139">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="1388" y="923.2139">create(order, product, quantity, nearbyPharamcy)</text><rect fill="#FEFECE" filter="url(#fee8aoqohk8it)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="1765" y="905.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1774.5" y="927.252">pharmacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1772" y="944.8613">:PharmacyTransfer</text><polygon fill="#A80036" points="1346,988.2891,1356,992.2891,1346,996.2891,1350,992.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="1352" y1="992.2891" y2="992.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="251" y="987.4326">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="269" y="987.4326">registersPharmacyTransfer(pharmacyTransfer)</text><polygon fill="#A80036" points="1659,1018.6406,1669,1022.6406,1659,1026.6406,1663,1022.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1368" x2="1665" y1="1022.6406" y2="1022.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1375" y="1017.7842">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="1393" y="1017.7842">registersPharmacyTransfer(pharmacyTransfer)</text><rect fill="#FFFFFF" filter="url(#fee8aoqohk8it)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="160" x="1594" y="1060.6406"/><polygon fill="#EEEEEE" points="1594,1060.6406,1656,1060.6406,1656,1068.6406,1646,1078.6406,1594,1078.6406,1594,1060.6406" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1607" y="1076.1357">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1617" y="1096.1357">SD_CONNECTIONS</text><!--MD5=[9d8fd4d01ea4b21b152a2ce32980d4c4]
@startuml
autonumber
participant ":MakeAPharmacyTransferController" as CTRL
participant "PotApplication" as _APP
participant "app\n:PotApplication" as APP
participant "worldMap\n:WorldMap" as WM
participant "pharmServ \n:PharmacyService" as PS
participant "pharamcyDB\n:PharmacyDB" as PDB
participant "GraphAlgorithms" as GA
participant "pharmTransferServ \n:PharmacyTransferService" as PTS
participant "pharmTransferDB\n:PharmacyTransferDB" as PTDB
participant "pharmacyTransfer\n:PharmacyTransfer" as PT

[o-> CTRL : getStockFromAnotherPharamacy\n(order, product, quantity)
activate CTRL
CTRL -> _APP: app = getInstance()
activate _APP
deactivate _APP
CTRL -> APP: worldMap = getWorldMap()
activate APP
deactivate APP

CTRL -> WM: graph = getGraph()
activate WM
deactivate WM
CTRL -> PS** : create()
activate PS
PS -> PDB** : create()
deactivate PS
CTRL -> PS : nearbyPharamcy = getClosestPharmacyWithStock\n(graph, pharmacy, product, quantity)
activate PS
PS -> PDB : lstPharmacies = getPharmacies()
activate PDB
ref over PDB
SD_CONNECTIONS
end ref
deactivate PDB
PS -> PS : getClosestPharmacy(address, lstPharmacies)
loop
PS -> GA : distance = shortestPath(graph,\n pharmacyAddress, nearbyPharmacyAddress)
activate GA
deactivate GA
end loop
deactivate PHS
deactivate PS

CTRL -> PTS** : create()
activate PTS
PTS -> PTDB** : create()
deactivate PTS

CTRL -> PTS : newPharamacyTransfer\n(order, product, quantity, nearbyPharamcy)
activate PTS
PTS -> PT** : create(order, product, quantity, nearbyPharamcy)
deactivate PS
deactivate PTS

CTRL -> PTS : registersPharmacyTransfer(pharmacyTransfer)
activate PTS
PTS -> PTDB : registersPharmacyTransfer(pharmacyTransfer)
activate PTDB
ref over PTDB
SD_CONNECTIONS
end ref
deactivate PTDB
deactivate PTS
deactivate CTRL

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.66
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>