<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1251px" preserveAspectRatio="none" style="width:2980px;height:1251px;" version="1.1" viewBox="0 0 2980 1251" width="2980px" zoomAndPan="magnify"><defs><filter height="300%" id="fpo8iogr5fdjn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="1120.3672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="79.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="231.7188"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="835.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="292.4219"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="1189.9766"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="757.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1044" y="339.125"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="54.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="379.4766"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="514.2656"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="46.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="616.3203"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="168.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="928.6797"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1697" y="959.0313"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="209.0469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2013" y="673.0234"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="84.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2272.5" y="720.8906"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2509.5" y="775.1094"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2809" y="1067.0859"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="668.7109" style="stroke:#000000;stroke-width:2.0;" width="2863" x="10" y="559.2656"/><rect fill="#FFFFFF" height="92.5391" style="stroke:none;stroke-width:1.0;" width="2863" x="10" y="1135.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="89.6094" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="537.5" x2="537.5" y1="89.6094" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1048.5" x2="1048.5" y1="89.6094" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1201.5" x2="1201.5" y1="89.6094" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1329.5" x2="1329.5" y1="89.6094" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1529.5" x2="1529.5" y1="389.2344" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1701.5" x2="1701.5" y1="453.4531" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2018" x2="2018" y1="666.4297" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2277" x2="2277" y1="730.6484" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2514" x2="2514" y1="89.6094" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2623" x2="2623" y1="846.4141" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2711" x2="2711" y1="893.0234" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2814" x2="2814" y1="89.6094" y2="1244.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2921" x2="2921" y1="89.6094" y2="1244.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="86.5332">Client</text><ellipse cx="41" cy="15" fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,23 L41,50 M28,31 L54,31 M41,50 L28,65 M41,50 L54,65 " fill="none" filter="url(#fpo8iogr5fdjn)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="115" x="478.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="485.5" y="74.5332">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="165" x="964.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="971.5" y="74.5332">RegisterClientController</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1143.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1150.5" y="74.5332">ApplicationPOT</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1269.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="1315.5" y="56.9238">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1276.5" y="74.5332">:ApplicationPOT</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="123" x="2451" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="2458" y="74.5332">EncryptPassword</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="94" x="2765" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="2772" y="74.5332">EmailSender</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2873" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2880" y="74.5332">DataHandler</text><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="1120.3672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="79.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="231.7188"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="835.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="292.4219"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="1189.9766"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="757.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1044" y="339.125"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="54.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="379.4766"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="514.2656"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="46.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="616.3203"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="168.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1525" y="928.6797"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1697" y="959.0313"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="209.0469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2013" y="673.0234"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="84.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2272.5" y="720.8906"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2509.5" y="775.1094"/><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2809" y="1067.0859"/><polygon fill="#A80036" points="521,117.9609,531,121.9609,521,125.9609,525,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="527" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="64" y="117.1045">Engages the register feature/button</text><polygon fill="#A80036" points="57,197.3672,47,201.3672,57,205.3672,53,201.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="537" y1="201.3672" y2="201.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63" y="171.9834">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="74" y="147.4561">Asks for all the information required</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408" x="74" y="163.8076">for the register (i.e. name,nif,email,password,latitude,longitude,altitude,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="452" x="74" y="180.1592">streetName,doorNumber,postalCode,locality,country,creditCardNr,validityDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="74" y="196.5107">CCV)</text><polygon fill="#A80036" points="521,227.7188,531,231.7188,521,235.7188,525,231.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="527" y1="231.7188" y2="231.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="226.8623">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="64" y="226.8623">Fills all the information required</text><polygon fill="#A80036" points="57,258.0703,47,262.0703,57,266.0703,53,262.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="537" y1="262.0703" y2="262.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63" y="257.2139">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="74" y="257.2139">Presents the data and asks for a confirmation</text><polygon fill="#A80036" points="521,288.4219,531,292.4219,521,296.4219,525,292.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="527" y1="292.4219" y2="292.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="287.5654">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="64" y="287.5654">Confirms</text><polygon fill="#A80036" points="1032,335.125,1042,339.125,1032,343.125,1036,339.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="543" x2="1038" y1="339.125" y2="339.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="550" y="326.0928">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="471" x="561" y="317.917">registerNewClient(name,nif,email,password,latitude,longitude,altitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="412" x="561" y="334.2686">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><polygon fill="#A80036" points="1465.5,365.4766,1475.5,369.4766,1465.5,373.4766,1469.5,369.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1054" x2="1471.5" y1="369.4766" y2="369.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1061" y="364.6201">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1072" y="364.6201">create()</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="101" x="1477.5" y="347.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1488" y="368.6582">clientService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1484.5" y="386.2676">:ClientService</text><polygon fill="#A80036" points="1651.5,429.6953,1661.5,433.6953,1651.5,437.6953,1655.5,433.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1530" x2="1657.5" y1="433.6953" y2="433.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1537" y="428.8389">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1548" y="428.8389">create()</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1663.5" y="411.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1674" y="432.877">clientDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="1670.5" y="450.4863">:ClientDB</text><polygon fill="#A80036" points="1513,510.2656,1523,514.2656,1513,518.2656,1517,514.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1054" x2="1519" y1="514.2656" y2="514.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1061" y="501.2334">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="441" x="1072" y="493.0576">validateInput(name,nif,email,password,latitude,longitude,altitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="412" x="1072" y="509.4092">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><path d="M10,559.2656 L71,559.2656 L71,567.2656 L61,577.2656 L10,577.2656 L10,559.2656 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="668.7109" style="stroke:#000000;stroke-width:2.0;" width="2863" x="10" y="559.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="573.7607">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="298" x="86" y="572.6846">[if all the information given as input has a valid format]</text><polygon fill="#A80036" points="1513,612.3203,1523,616.3203,1513,620.3203,1517,616.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1054" x2="1519" y1="616.3203" y2="616.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1061" y="603.2881">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="426" x="1079" y="595.1123">newClient(name,nif,email,password,latitude,longitude,altitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="412" x="1079" y="611.4639">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><polygon fill="#A80036" points="1977,659.0234,1987,663.0234,1977,667.0234,1981,663.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1530" x2="1983" y1="663.0234" y2="663.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1537" y="649.9912">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="1555" y="641.8154">create(name,nif,email,password,latitude,longitude,altitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="412" x="1555" y="658.167">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="54" x="1989" y="624.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1999.5" y="645.8535">client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1996" y="663.4629">:Client</text><polygon fill="#A80036" points="2240,706.8906,2250,710.8906,2240,714.8906,2244,710.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2023" x2="2246" y1="710.8906" y2="710.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2030" y="706.0342">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="2048" y="706.0342">create(email,password,nif,name)</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="47" x="2252" y="688.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="2261.5" y="710.0723">user</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="2259" y="727.6816">:User</text><polygon fill="#A80036" points="2497.5,771.1094,2507.5,775.1094,2497.5,779.1094,2501.5,775.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2282.5" x2="2503.5" y1="775.1094" y2="775.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2289.5" y="770.2529">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="2307.5" y="770.2529">encryptPasswordMD5(password)</text><polygon fill="#A80036" points="2576,831.4609,2586,835.4609,2576,839.4609,2580,835.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2023" x2="2582" y1="835.4609" y2="835.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2030" y="830.6045">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="494" x="2048" y="830.6045">create(latitude,longitude,altitude,streetName,doorNumber,postalCode,locality,country)</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="66" x="2588" y="813.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="2595" y="834.6426">Address</text><polygon fill="#A80036" points="2656,878.0703,2666,882.0703,2656,886.0703,2660,882.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2018" x2="2662" y1="882.0703" y2="882.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2025" y="877.2139">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="2043" y="877.2139">create(creditCardNr,validityDate,CCV)</text><rect fill="#FEFECE" filter="url(#fpo8iogr5fdjn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="83" x="2668" y="859.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2675" y="881.252">CreditCard</text><polygon fill="#A80036" points="1513,924.6797,1523,928.6797,1513,932.6797,1517,928.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1054" x2="1519" y1="928.6797" y2="928.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1061" y="923.8232">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="1079" y="923.8232">registerNewClient(client)</text><polygon fill="#A80036" points="1685,955.0313,1695,959.0313,1685,963.0313,1689,959.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1535" x2="1691" y1="959.0313" y2="959.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1542" y="954.1748">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="1560" y="954.1748">addClientToDB(client)</text><rect fill="#FFFFFF" filter="url(#fpo8iogr5fdjn)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="126" x="1660.5" y="997.0313"/><polygon fill="#EEEEEE" points="1660.5,997.0313,1722.5,997.0313,1722.5,1005.0313,1712.5,1015.0313,1660.5,1015.0313,1660.5,997.0313" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1673.5" y="1012.5264">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="1666.5" y="1032.5264">SD_CONNECTIONS</text><polygon fill="#A80036" points="2797,1063.0859,2807,1067.0859,2797,1071.0859,2801,1067.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1535" x2="2803" y1="1067.0859" y2="1067.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1542" y="1062.2295">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1560" y="1062.2295">sendEmail(email,subject,body)</text><polygon fill="#A80036" points="57,1123.4375,47,1127.4375,57,1131.4375,53,1127.4375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="537" y1="1127.4375" y2="1127.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="1122.5811">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="81" y="1122.5811">Validates and informs about the success of the operation</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="2873" y1="1136.4375" y2="1136.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="262" x="15" y="1147.8564">[if any information does not have a valid format]</text><polygon fill="#A80036" points="57,1185.9766,47,1189.9766,57,1193.9766,53,1189.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51" x2="532" y1="1189.9766" y2="1189.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="1176.9443">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="81" y="1168.7686">Informs the User that the operation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="81" y="1185.1201">was not successful</text><!--MD5=[e4bed807c428da37f7aa8d716554c6e0]
@startuml
autonumber
hide footbox

actor "Client" as U

participant "RegisterClientUI" as UI
participant "RegisterClientController" as CTRL
participant "ApplicationPOT" as _APP
participant "app\n:ApplicationPOT" as APP
participant "clientService\n:ClientService" as CS
participant "clientDB\n:ClientDB" as UREG

participant "client\n:Client" as USER
participant "user\n:User" as US
participant "EncryptPassword" as EP
participant Address as ADD
participant CreditCard as CC

participant "EmailSender" as ESENDER
participant "DataHandler" as DH

activate U

U -> UI : Engages the register feature/button
activate UI

UI - -> U : Asks for all the information required \nfor the register (i.e. name,nif,email,password,latitude,longitude,altitude,\nstreetName,doorNumber,postalCode,locality,country,creditCardNr,validityDate,\nCCV)


deactivate UI
U -> UI : Fills all the information required


activate UI


UI - -> U : Presents the data and asks for a confirmation

deactivate UI
U -> UI : Confirms
activate UI
UI -> CTRL : registerNewClient(name,nif,email,password,latitude,longitude,altitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
activate CTRL
CTRL -> CS** : create()
activate CS
CS -> UREG** : create()
deactivate CS
CTRL -> CS : validateInput(name,nif,email,password,latitude,longitude,altitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
activate CS
deactivate CS
alt if all the information given as input has a valid format




CTRL -> CS : newClient(name,nif,email,password,latitude,longitude,altitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
activate CS
CS -> USER** : create(name,nif,email,password,latitude,longitude,altitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
deactivate CS
activate USER

USER -> US** : create(email,password,nif,name)

activate US
US -> EP : encryptPasswordMD5(password)
activate EP
deactivate EP
deactivate US

USER -> ADD** : create(latitude,longitude,altitude,streetName,doorNumber,postalCode,locality,country)
USER -> CC** : create(creditCardNr,validityDate,CCV)
deactivate USER





CTRL -> CS : registerNewClient(client)
activate CS
CS -> UREG : addClientToDB(client)
ref over UREG
SD_CONNECTIONS
end ref
activate UREG
deactivate UREG

CS -> ESENDER : sendEmail(email,subject,body)
activate ESENDER
deactivate ESENDER





deactivate CS



deactivate CTRL

UI - -> U : Validates and informs about the success of the operation
deactivate UI

else if any information does not have a valid format


UI -> U : Informs the User that the operation\nwas not successful
activate UI
deactivate UI
deactivate U

end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>