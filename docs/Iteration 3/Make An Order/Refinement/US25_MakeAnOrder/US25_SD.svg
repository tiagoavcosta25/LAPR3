<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2774px" preserveAspectRatio="none" style="width:3099px;height:2774px;" version="1.1" viewBox="0 0 3099 2774" width="3099px" zoomAndPan="magnify"><defs><filter height="300%" id="f8wonv1lwxfj1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="2646.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="39" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="775.4453" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="119.9609"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="352.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="925.7578"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="1309.0078"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="1437.0625"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="447.1172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="1527.7656"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="224.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="2005.2344"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="467.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="2276.3984"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="667.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="150.3125"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="219.1406" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="956.1094"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="1339.3594"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="370.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="1558.1172"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2035.5859"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2306.75"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2374.1016"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="201.3672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2542.8594"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="867" y="180.6641"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="987" y="241.0156"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1103.5" y="301.3672"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1216.5" y="371.7188"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1216.5" y="490.1563"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1216.5" y="2065.9375"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1535.5" y="520.5078"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1535.5" y="2096.2891"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1650" y="638.5625"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1650" y="757"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1891" y="787.3516"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2012" y="996.4609"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2012" y="1114.8984"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2270" y="1145.25"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2378" y="1598.4688"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="211.2734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2378" y="1716.9063"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2378" y="2404.4531"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2537" y="2434.8047"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="154.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2651.5" y="1773.6094"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2861.5" y="1898.1797"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2992.5" y="2619.8203"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="169.7578" style="stroke: #000000; stroke-width: 2.0;" width="801" x="13" y="1237.9531"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="155.7578" style="stroke: #000000; stroke-width: 2.0;" width="801" x="13" y="2188.9922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="44" x2="44" y1="87.6094" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="401" x2="401" y1="87.6094" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="720" x2="720" y1="87.6094" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="872" x2="872" y1="87.6094" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="992" x2="992" y1="87.6094" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1108" x2="1108" y1="87.6094" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1221" x2="1221" y1="381.4766" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1540" x2="1540" y1="445.6953" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1655" x2="1655" y1="648.3203" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1896" x2="1896" y1="712.5391" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2017" x2="2017" y1="1006.2188" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2275" x2="2275" y1="1070.4375" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2383" x2="2383" y1="1608.2266" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2542" x2="2542" y1="1672.4453" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2656" x2="2656" y1="1767.0156" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2866.5" x2="2866.5" y1="87.6094" y2="2762.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2997.5" x2="2997.5" y1="2584.1641" y2="2762.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="23" y="84.5332">Client</text><ellipse cx="44" cy="13" fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M44,21 L44,48 M31,29 L57,29 M44,48 L31,63 M44,48 L57,63 " fill="none" filter="url(#f8wonv1lwxfj1)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="342" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="349" y="72.5332">MakeAnOrderUI</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="636" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="643" y="72.5332">MakeAnOrderController</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="818" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="825" y="72.5332">PotApplication</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="936" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="978" y="54.9238">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="943" y="72.5332">:PotApplication</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1058" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="1082.5" y="54.9238">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1065" y="72.5332">:UserSession</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="2837.5" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="2848" y="54.9238">client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="2844.5" y="72.5332">:Client</text><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="2646.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="39" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="775.4453" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="119.9609"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="352.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="925.7578"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="1309.0078"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="1437.0625"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="447.1172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="1527.7656"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="224.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="2005.2344"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="467.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="396" y="2276.3984"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="667.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="150.3125"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="219.1406" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="956.1094"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="1339.3594"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="370.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="1558.1172"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2035.5859"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2306.75"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2374.1016"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="201.3672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="715" y="2542.8594"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="867" y="180.6641"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="987" y="241.0156"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1103.5" y="301.3672"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1216.5" y="371.7188"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1216.5" y="490.1563"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1216.5" y="2065.9375"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1535.5" y="520.5078"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1535.5" y="2096.2891"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1650" y="638.5625"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1650" y="757"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1891" y="787.3516"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2012" y="996.4609"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2012" y="1114.8984"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2270" y="1145.25"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2378" y="1598.4688"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="211.2734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2378" y="1716.9063"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2378" y="2404.4531"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2537" y="2434.8047"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="154.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2651.5" y="1773.6094"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2861.5" y="1898.1797"/><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2992.5" y="2619.8203"/><polygon fill="#A80036" points="384,115.9609,394,119.9609,384,123.9609,388,119.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="390" y1="119.9609" y2="119.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="56" y="115.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="67" y="115.1045">sends a request to make an order</text><polygon fill="#A80036" points="703,146.3125,713,150.3125,703,154.3125,707,150.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="150.3125" y2="150.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="413" y="145.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="424" y="145.4561">lstPharmacies = getPharmacies()</text><polygon fill="#A80036" points="855,176.6641,865,180.6641,855,184.6641,859,180.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="861" y1="180.6641" y2="180.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="732" y="175.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="743" y="175.8076">app = getInstance()</text><polygon fill="#A80036" points="975,237.0156,985,241.0156,975,245.0156,979,241.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="981" y1="241.0156" y2="241.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="732" y="236.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="743" y="236.1592">session = getCurrentSession()</text><polygon fill="#A80036" points="1091.5,297.3672,1101.5,301.3672,1091.5,305.3672,1095.5,301.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1097.5" y1="301.3672" y2="301.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="732" y="296.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="743" y="296.5107">email = getUserEmail()</text><polygon fill="#A80036" points="1157,357.7188,1167,361.7188,1157,365.7188,1161,361.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1163" y1="361.7188" y2="361.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="732" y="356.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="743" y="356.8623">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1169" y="339.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1188.5" y="360.9004">clientServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1176" y="378.5098">:ClientService</text><polygon fill="#A80036" points="1490,421.9375,1500,425.9375,1490,429.9375,1494,425.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1221.5" x2="1496" y1="425.9375" y2="425.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1228.5" y="421.0811">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1239.5" y="421.0811">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="1502" y="403.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1512.5" y="425.1191">clientDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1509" y="442.7285">:ClientDB</text><polygon fill="#A80036" points="1204.5,486.1563,1214.5,490.1563,1204.5,494.1563,1208.5,490.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1210.5" y1="490.1563" y2="490.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="732" y="485.2998">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="743" y="485.2998">client = getUserByEmail(email)</text><polygon fill="#A80036" points="1523.5,516.5078,1533.5,520.5078,1523.5,524.5078,1527.5,520.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1226.5" x2="1529.5" y1="520.5078" y2="520.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1233.5" y="515.6514">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="1244.5" y="515.6514">client = getUserByEmail(email)</text><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1499" y="558.5078"/><polygon fill="#EEEEEE" points="1499,558.5078,1561,558.5078,1561,566.5078,1551,576.5078,1499,576.5078,1499,558.5078" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1512" y="574.0029">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1505" y="594.0029">SD_CONNECTIONS</text><polygon fill="#A80036" points="1577,624.5625,1587,628.5625,1577,632.5625,1581,628.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1583" y1="628.5625" y2="628.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="623.7061">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="750" y="623.7061">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="1589" y="606.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1607.5" y="627.7441">pharmacyServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1596" y="645.3535">:PharmacyService</text><polygon fill="#A80036" points="1832,688.7813,1842,692.7813,1832,696.7813,1836,692.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1655" x2="1838" y1="692.7813" y2="692.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1662" y="687.9248">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1680" y="687.9248">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1844" y="670.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="1853.5" y="691.9629">pharmacyDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1851" y="709.5723">:PharmacyDB</text><polygon fill="#A80036" points="1638,753,1648,757,1638,761,1642,757" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1644" y1="757" y2="757"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="752.1436">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="750" y="752.1436">lstPharmacies = getPharmacies()</text><polygon fill="#A80036" points="1879,783.3516,1889,787.3516,1879,791.3516,1883,787.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1660" x2="1885" y1="787.3516" y2="787.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1667" y="782.4951">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1685" y="782.4951">lstPharmacies = getPharmacies()</text><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1841" y="825.3516"/><polygon fill="#EEEEEE" points="1841,825.3516,1903,825.3516,1903,833.3516,1893,843.3516,1841,843.3516,1841,825.3516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1854" y="840.8467">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1847" y="860.8467">SD_CONNECTIONS</text><polygon fill="#A80036" points="60,891.4063,50,895.4063,60,899.4063,56,895.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="400" y1="895.4063" y2="895.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="66" y="890.5498">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="84" y="890.5498">shows the list of the pharmacies</text><polygon fill="#A80036" points="384,921.7578,394,925.7578,384,929.7578,388,925.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="390" y1="925.7578" y2="925.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="56" y="920.9014">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="74" y="920.9014">chooses which products and which quantities to order</text><polygon fill="#A80036" points="703,952.1094,713,956.1094,703,960.1094,707,956.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="956.1094" y2="956.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="413" y="951.2529">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="431" y="951.2529">lstProducts = getAvailableProducts(pharmacy)</text><polygon fill="#A80036" points="1946,982.4609,1956,986.4609,1946,990.4609,1950,986.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1952" y1="986.4609" y2="986.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="981.6045">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="750" y="981.6045">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1958" y="964.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1976.5" y="985.6426">productServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1965" y="1003.252">:ProductService</text><polygon fill="#A80036" points="2218,1046.6797,2228,1050.6797,2218,1054.6797,2222,1050.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2017" x2="2224" y1="1050.6797" y2="1050.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2024" y="1045.8232">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="2042" y="1045.8232">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="2230" y="1028.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="2239.5" y="1049.8613">productDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="2237" y="1067.4707">:ProductDB</text><polygon fill="#A80036" points="2000,1110.8984,2010,1114.8984,2000,1118.8984,2004,1114.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="2006" y1="1114.8984" y2="1114.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="1110.042">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="750" y="1110.042">lstProducts = getAvailableProducts()</text><polygon fill="#A80036" points="2258,1141.25,2268,1145.25,2258,1149.25,2262,1145.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2022" x2="2264" y1="1145.25" y2="1145.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2029" y="1140.3936">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="2047" y="1140.3936">lstProducts = getAvailableProducts()</text><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="2227" y="1183.25"/><polygon fill="#EEEEEE" points="2227,1183.25,2289,1183.25,2289,1191.25,2279,1201.25,2227,1201.25,2227,1183.25" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="2240" y="1198.7451">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="2233" y="1218.7451">SD_CONNECTIONS</text><path d="M13,1237.9531 L86,1237.9531 L86,1245.9531 L76,1255.9531 L13,1255.9531 L13,1237.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="169.7578" style="stroke: #000000; stroke-width: 2.0;" width="801" x="13" y="1237.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="1252.4482">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="101" y="1251.3721">[until there is no more products to add]</text><polygon fill="#A80036" points="60,1274.6563,50,1278.6563,60,1282.6563,56,1278.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="400" y1="1278.6563" y2="1278.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="66" y="1273.7998">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="84" y="1273.7998">shows the list of the available products</text><polygon fill="#A80036" points="384,1305.0078,394,1309.0078,384,1313.0078,388,1309.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="390" y1="1309.0078" y2="1309.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="56" y="1304.1514">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="74" y="1304.1514">chooses which product and which quantity to order</text><polygon fill="#A80036" points="703,1335.3594,713,1339.3594,703,1343.3594,707,1339.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="1339.3594" y2="1339.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="413" y="1334.5029">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="431" y="1334.5029">addProductToOrder(product, quantity)</text><polygon fill="#A80036" points="60,1395.7109,50,1399.7109,60,1403.7109,56,1399.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="400" y1="1399.7109" y2="1399.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="66" y="1394.8545">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="84" y="1394.8545">asks if the user is done adding more products</text><polygon fill="#A80036" points="384,1433.0625,394,1437.0625,384,1441.0625,388,1437.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="390" y1="1437.0625" y2="1437.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="56" y="1432.2061">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="74" y="1432.2061">confirms that there is not more products</text><polygon fill="#A80036" points="60,1493.4141,50,1497.4141,60,1501.4141,56,1497.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="400" y1="1497.4141" y2="1497.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="66" y="1492.5576">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="84" y="1492.5576">asks if it is a home delivery or a store pick up</text><polygon fill="#A80036" points="384,1523.7656,394,1527.7656,384,1531.7656,388,1527.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="390" y1="1527.7656" y2="1527.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="56" y="1522.9092">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="74" y="1522.9092">chooses the delivery type</text><polygon fill="#A80036" points="703,1554.1172,713,1558.1172,703,1562.1172,707,1558.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="1558.1172" y2="1558.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="413" y="1553.2607">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="431" y="1553.2607">newOrder(description, isHomeDelivery)</text><polygon fill="#A80036" points="2318,1584.4688,2328,1588.4688,2318,1592.4688,2322,1588.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="2324" y1="1588.4688" y2="1588.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="1583.6123">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="750" y="1583.6123">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="2330" y="1566.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="2349.5" y="1587.6504">orderServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="2337" y="1605.2598">:OrderService</text><polygon fill="#A80036" points="2491,1648.6875,2501,1652.6875,2491,1656.6875,2495,1652.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2383" x2="2497" y1="1652.6875" y2="1652.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2390" y="1647.8311">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="2408" y="1647.8311">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="2503" y="1630.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="2513.5" y="1651.8691">orderDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="2510" y="1669.4785">:OrderDB</text><polygon fill="#A80036" points="2366,1712.9063,2376,1716.9063,2366,1720.9063,2370,1716.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="2372" y1="1716.9063" y2="1716.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="1712.0498">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="455" x="750" y="1712.0498">order = addOrder(description, mapProducts, client, pharmacy, isHomeDelivery)</text><polygon fill="#A80036" points="2615,1759.6094,2625,1763.6094,2615,1767.6094,2619,1763.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2388" x2="2621" y1="1763.6094" y2="1763.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2395" y="1750.5771">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="2413" y="1742.4014">create(description, mapProducts,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="2413" y="1758.7529">client, pharmacy, isHomeDelivery)</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="2627" y="1724.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="2637.5" y="1746.4395">order</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="2634" y="1764.0488">:Order</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2661.5" x2="2703.5" y1="1811.4766" y2="1811.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2703.5" x2="2703.5" y1="1811.4766" y2="1824.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2662.5" x2="2703.5" y1="1824.4766" y2="1824.4766"/><polygon fill="#A80036" points="2672.5,1820.4766,2662.5,1824.4766,2672.5,1828.4766,2668.5,1824.4766" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2668.5" y="1806.6201">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="2686.5" y="1806.6201">calculateAmount()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2661.5" x2="2703.5" y1="1854.8281" y2="1854.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2703.5" x2="2703.5" y1="1854.8281" y2="1867.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2662.5" x2="2703.5" y1="1867.8281" y2="1867.8281"/><polygon fill="#A80036" points="2672.5,1863.8281,2662.5,1867.8281,2672.5,1871.8281,2668.5,1867.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2668.5" y="1849.9717">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="2686.5" y="1849.9717">calculateTotalWeight()</text><polygon fill="#A80036" points="2849.5,1894.1797,2859.5,1898.1797,2849.5,1902.1797,2853.5,1898.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2661.5" x2="2855.5" y1="1898.1797" y2="1898.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2668.5" y="1893.3232">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="2686.5" y="1893.3232">addCredits(addtionalCredits)</text><polygon fill="#A80036" points="60,1970.8828,50,1974.8828,60,1978.8828,56,1974.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="400" y1="1974.8828" y2="1974.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="66" y="1961.8506">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="84" y="1953.6748">validates, presents the information with the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="84" y="1970.0264">total price of the order and asks for confirmation</text><polygon fill="#A80036" points="384,2001.2344,394,2005.2344,384,2009.2344,388,2005.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="390" y1="2005.2344" y2="2005.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="56" y="2000.3779">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="74" y="2000.3779">confirms</text><polygon fill="#A80036" points="703,2031.5859,713,2035.5859,703,2039.5859,707,2035.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="2035.5859" y2="2035.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="413" y="2030.7295">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="431" y="2030.7295">lstCreditCards = getCreditCardsByClient(email)</text><polygon fill="#A80036" points="1204.5,2061.9375,1214.5,2065.9375,1204.5,2069.9375,1208.5,2065.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1210.5" y1="2065.9375" y2="2065.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="2061.0811">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="750" y="2061.0811">lstCreditCards = getCreditCardsByClient(email)</text><polygon fill="#A80036" points="1523.5,2092.2891,1533.5,2096.2891,1523.5,2100.2891,1527.5,2096.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1226.5" x2="1529.5" y1="2096.2891" y2="2096.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1233.5" y="2091.4326">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="1251.5" y="2091.4326">lstCreditCards = getCreditCardsByClient(email)</text><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1499" y="2134.2891"/><polygon fill="#EEEEEE" points="1499,2134.2891,1561,2134.2891,1561,2142.2891,1551,2152.2891,1499,2152.2891,1499,2134.2891" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1512" y="2149.7842">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1505" y="2169.7842">SD_CONNECTIONS</text><path d="M13,2188.9922 L86,2188.9922 L86,2196.9922 L76,2206.9922 L13,2206.9922 L13,2188.9922 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="155.7578" style="stroke: #000000; stroke-width: 2.0;" width="801" x="13" y="2188.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="2203.4873">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="167" x="101" y="2202.4111">[until the full amount is payed]</text><polygon fill="#A80036" points="60,2225.6953,50,2229.6953,60,2233.6953,56,2229.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="400" y1="2229.6953" y2="2229.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="66" y="2224.8389">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="84" y="2224.8389">shows the list of his registered credit cards</text><polygon fill="#A80036" points="384,2272.3984,394,2276.3984,384,2280.3984,388,2276.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="390" y1="2276.3984" y2="2276.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="56" y="2263.3662">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="74" y="2255.1904">chooses which credit card to use in order</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="74" y="2271.542">pay the order and the amount for said card</text><polygon fill="#A80036" points="703,2302.75,713,2306.75,703,2310.75,707,2306.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="2306.75" y2="2306.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="413" y="2301.8936">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="431" y="2301.8936">addPayment(creditCard, amount)</text><polygon fill="#A80036" points="703,2370.1016,713,2374.1016,703,2378.1016,707,2374.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="2374.1016" y2="2374.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="413" y="2369.2451">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="431" y="2369.2451">registerOrder()</text><polygon fill="#A80036" points="2366,2400.4531,2376,2404.4531,2366,2408.4531,2370,2404.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="2372" y1="2404.4531" y2="2404.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="2399.5967">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="750" y="2399.5967">registerOrder(order)</text><polygon fill="#A80036" points="2525,2430.8047,2535,2434.8047,2525,2438.8047,2529,2434.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2388" x2="2531" y1="2434.8047" y2="2434.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2395" y="2429.9482">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="2413" y="2429.9482">registerOrder(order)</text><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="2500" y="2472.8047"/><polygon fill="#EEEEEE" points="2500,2472.8047,2562,2472.8047,2562,2480.8047,2552,2490.8047,2500,2490.8047,2500,2472.8047" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="2513" y="2488.2998">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="2506" y="2508.2998">SD_CONNECTIONS</text><polygon fill="#A80036" points="703,2538.8594,713,2542.8594,703,2546.8594,707,2542.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="406" x2="709" y1="2542.8594" y2="2542.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="413" y="2538.0029">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="431" y="2538.0029">generateInvoice()</text><polygon fill="#A80036" points="2893.5,2569.2109,2903.5,2573.2109,2893.5,2577.2109,2897.5,2573.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="2899.5" y1="2573.2109" y2="2573.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="2568.3545">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="750" y="2568.3545">create()</text><rect fill="#FEFECE" filter="url(#f8wonv1lwxfj1)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="180" x="2905.5" y="2550.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="2912.5" y="2572.3926">GenerateInvoiceController</text><polygon fill="#A80036" points="2980.5,2615.8203,2990.5,2619.8203,2980.5,2623.8203,2984.5,2619.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="2986.5" y1="2619.8203" y2="2619.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="732" y="2614.9639">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="750" y="2614.9639">generateInvoice(order, mapPayments)</text><rect fill="#FFFFFF" filter="url(#f8wonv1lwxfj1)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="186" x="2902.5" y="2657.8203"/><polygon fill="#EEEEEE" points="2902.5,2657.8203,2964.5,2657.8203,2964.5,2665.8203,2954.5,2675.8203,2902.5,2675.8203,2902.5,2657.8203" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="2915.5" y="2673.3154">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="2969" y="2693.3154">US26_SD</text><polygon fill="#A80036" points="55,2740.2266,45,2744.2266,55,2748.2266,51,2744.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="400" y1="2744.2266" y2="2744.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="61" y="2731.1943">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="79" y="2723.0186">registers the order, generates the invoice</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="83" y="2739.3701">and informs of the success of the operation</text><!--MD5=[07e0c396b7bcd32510a137b23a3ce8ca]
@startuml
autonumber
hide footbox

actor "Client" as CL

participant "MakeAnOrderUI" as UI
participant "MakeAnOrderController" as CTRL
participant "PotApplication" as _APP
participant "app\n:PotApplication" as APP
participant "session\n:UserSession" as SESSION
participant "clientServ\n:ClientService" as CS
participant "clientDB\n:ClientDB" as CDB
participant "pharmacyServ\n:PharmacyService" as PHS
participant "pharmacyDB\n:PharmacyDB" as PHDB
participant "productServ\n:ProductService" as PS
participant "productDB\n:ProductDB" as PDB
participant "orderServ\n:OrderService" as OS
participant "orderDB\n:OrderDB" as ODB
participant "order\n:Order" as O
participant "client\n:Client" as C
participant "GenerateInvoiceController" as INVCTRL

activate CL

CL -> UI : sends a request to make an order
activate UI
UI -> CTRL : lstPharmacies = getPharmacies()
activate CTRL
CTRL -> _APP: app = getInstance()
activate _APP
deactivate _APP

CTRL -> APP: session = getCurrentSession()
activate APP
deactivate APP

CTRL -> SESSION: email = getUserEmail()
activate SESSION
deactivate SESSION
CTRL -> CS** : create()
activate CS
CS -> CDB** : create()
deactivate CS
CTRL -> CS : client = getUserByEmail(email)
activate CS
CS -> CDB : client = getUserByEmail(email)
activate CDB
ref over CDB
SD_CONNECTIONS
end ref
deactivate CDB
deactivate CS
CTRL -> PHS** : create()
activate PHS
PHS -> PHDB** : create()
deactivate PHS
CTRL -> PHS : lstPharmacies = getPharmacies()
activate PHS
PHS -> PHDB : lstPharmacies = getPharmacies()
activate PHDB
ref over PHDB
SD_CONNECTIONS
end ref
deactivate PHDB
deactivate PHS
deactivate CTRL

UI -> CL : shows the list of the pharmacies
deactivate UI

CL -> UI : chooses which products and which quantities to order
activate UI
UI -> CTRL : lstProducts = getAvailableProducts(pharmacy)
activate CTRL
CTRL -> PS** : create()
activate PS
PS -> PDB** : create()
deactivate PS
CTRL -> PS : lstProducts = getAvailableProducts()
activate PS
PS -> PDB : lstProducts = getAvailableProducts()
activate PDB
ref over PDB
SD_CONNECTIONS
end ref
deactivate PDB
deactivate PS
deactivate CTRL
loop until there is no more products to add
UI -> CL : shows the list of the available products
deactivate UI

CL -> UI : chooses which product and which quantity to order
activate UI
UI -> CTRL : addProductToOrder(product, quantity)
activate CTRL
deactivate CTRL
UI -> CL : asks if the user is done adding more products
deactivate UI
end

CL -> UI : confirms that there is not more products
activate UI
deactivate CTRL

UI -> CL : asks if it is a home delivery or a store pick up
deactivate UI

CL -> UI : chooses the delivery type
activate UI
UI -> CTRL : newOrder(description, isHomeDelivery)
activate CTRL

CTRL -> OS** : create()
activate OS
OS -> ODB** : create()
deactivate OS
CTRL -> OS : order = addOrder(description, mapProducts, client, pharmacy, isHomeDelivery)
activate OS
OS -> O** : create(description, mapProducts, \nclient, pharmacy, isHomeDelivery)
activate O
O -> O : calculateAmount()
O -> O : calculateTotalWeight()
O -> C : addCredits(addtionalCredits)
activate C
deactivate C
deactivate O
deactivate OS
deactivate CTRL

UI -> CL : validates, presents the information with the \ntotal price of the order and asks for confirmation
deactivate UI

CL -> UI : confirms
activate UI
UI -> CTRL : lstCreditCards = getCreditCardsByClient(email)
activate CTRL
CTRL -> CS : lstCreditCards = getCreditCardsByClient(email)
activate CS
CS -> CDB : lstCreditCards = getCreditCardsByClient(email)
activate CDB
ref over CDB
SD_CONNECTIONS
end ref
deactivate CDB
deactivate CS
deactivate CTRL
deactivate CTRL
loop until the full amount is payed
UI -> CL : shows the list of his registered credit cards
deactivate UI

CL -> UI : chooses which credit card to use in order \npay the order and the amount for said card
activate UI
UI -> CTRL : addPayment(creditCard, amount)
activate CTRL
deactivate CTRL
end
UI -> CTRL : registerOrder()
activate CTRL
CTRL -> OS : registerOrder(order)
activate OS
OS -> ODB : registerOrder(order)
activate ODB
ref over ODB
SD_CONNECTIONS
end ref
deactivate ODB
deactivate OS
deactivate CTRL
UI -> CTRL : generateInvoice()
activate CTRL
CTRL -> INVCTRL** : create()
CTRL -> INVCTRL : generateInvoice(order, mapPayments)
activate INVCTRL
ref over INVCTRL
US26_SD
end ref
deactivate INVCTRL
UI -> CL : registers the order, generates the invoice\n and informs of the success of the operation
deactivate CTRL
deactivate UI
deactivate CL

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.66
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>