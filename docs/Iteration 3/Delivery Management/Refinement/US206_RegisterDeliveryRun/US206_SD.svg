<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1597.6px" preserveAspectRatio="none" style="width:1861px;height:1597px;" version="1.1" viewBox="0 0 1861 1597" width="1861.6px" zoomAndPan="magnify"><defs><filter height="300%" id="fyebxf2oayjgt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.6"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.2" dy="3.2" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="1504.8625" style="stroke:#A80036;stroke-width:0.8;" width="8" x="38" y="79.6875"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="253.2" y="97.5688"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="1322.7875" style="stroke:#A80036;stroke-width:0.8;" width="8" x="253.2" y="170.1313"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="253.2" y="1548.55"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="1222.9813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="417.2" y="194.4125"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="555.6" y="526.9438"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="658" y="575.225"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="754.4" y="623.5063"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="226.6938"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="823.075"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1002.3625"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1125.7563"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="75.6563" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1242.0813"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1369.1125"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="971.2" y="329.4438"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="971.2" y="692.0688"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1075.6" y="432.1938"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1075.6" y="891.6375"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1183.6" y="1026.6438"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1183.6" y="1150.0375"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1183.6" y="1393.3938"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1273.6" y="716.35"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1358" y="915.9188"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1447.2" y="1274.3625"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="919.4438" style="stroke:#000000;stroke-width:1.6;" width="1622.4" x="8" y="659.5063"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="708.8063" style="stroke:#000000;stroke-width:1.6;" width="1606.4" x="16" y="790.5125"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="359.525" style="stroke:#000000;stroke-width:1.6;" width="1082.4" x="329.2" y="859.075"/><rect fill="#FFFFFF" height="123.3938" style="stroke:none;stroke-width:0.8;" width="1082.4" x="329.2" y="1095.2063"/><rect fill="#FFFFFF" height="74.0313" style="stroke:none;stroke-width:0.8;" width="1622.4" x="8" y="1504.9188"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="41.6" x2="41.6" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="257.2" x2="257.2" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="421.2" x2="421.2" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="559.6" x2="559.6" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="662" x2="662" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="758" x2="758" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="865.2" x2="865.2" y1="234.5" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="974.8" x2="974.8" y1="337.25" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1079.6" x2="1079.6" y1="440" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1187.6" x2="1187.6" y1="285.875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1277.2" x2="1277.2" y1="388.625" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1362" x2="1362" y1="491.375" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1450.8" x2="1450.8" y1="1282.1688" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1568.8" x2="1568.8" y1="1333.5438" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1649.6" x2="1649.6" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1707.2" x2="1707.2" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1776" x2="1776" y1="71.6875" y2="1592.55"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:5.0,5.0;" x1="1838.4" x2="1838.4" y1="71.6875" y2="1592.55"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="31.2" x="24" y="69.2266">Admin</text><ellipse cx="42" cy="12" fill="#FEFECE" filter="url(#fyebxf2oayjgt)" rx="6.4" ry="6.4" style="stroke:#A80036;stroke-width:1.6;"/><path d="M42,18.4 L42,40 M31.6,24.8 L52.4,24.8 M42,40 L31.6,52 M42,40 L52.4,52 " fill="none" filter="url(#fyebxf2oayjgt)" style="stroke:#A80036;stroke-width:1.6;"/><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="25.2875" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="124.8" x="193.2" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="113.6" x="198.8" y="59.6266">RegisterDeliveryRunUI</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="25.2875" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="164.8" x="337.2" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="153.6" x="342.8" y="59.6266">RegisterDeliveryRunController</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="25.2875" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="89.6" x="513.2" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="78.4" x="518.8" y="59.6266">ApplicationPOT</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="92.8" x="614" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="19.2" x="650.8" y="45.5391">app</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="81.6" x="619.6" y="59.6266">:ApplicationPOT</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="77.6" x="718" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="38.4" x="737.6" y="45.5391">session</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="66.4" x="723.6" y="59.6266">:UserSession</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="52" x="1622.4" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="35.2" x="1630.8" y="45.5391">courier</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="40.8" x="1628" y="59.6266">:Courier</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="25.2875" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="40.8" x="1685.6" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="29.6" x="1691.2" y="59.6266">Order</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="25.2875" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="74.4" x="1737.6" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="63.2" x="1743.2" y="59.6266">DataHandler</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="25.2875" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="27.2" x="1823.2" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="16" x="1828.8" y="59.6266">OS</text><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="1504.8625" style="stroke:#A80036;stroke-width:0.8;" width="8" x="38" y="79.6875"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="253.2" y="97.5688"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="1322.7875" style="stroke:#A80036;stroke-width:0.8;" width="8" x="253.2" y="170.1313"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="253.2" y="1548.55"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="1222.9813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="417.2" y="194.4125"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="555.6" y="526.9438"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="658" y="575.225"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="754.4" y="623.5063"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="226.6938"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="823.075"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1002.3625"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1125.7563"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="75.6563" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1242.0813"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="861.2" y="1369.1125"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="971.2" y="329.4438"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="971.2" y="692.0688"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1075.6" y="432.1938"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="48.2813" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1075.6" y="891.6375"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1183.6" y="1026.6438"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1183.6" y="1150.0375"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1183.6" y="1393.3938"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1273.6" y="716.35"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="24" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1358" y="915.9188"/><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="43.375" style="stroke:#A80036;stroke-width:0.8;" width="8" x="1447.2" y="1274.3625"/><polygon fill="#A80036" points="243.6,94.3688,251.6,97.5688,243.6,100.7688,246.8,97.5688" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="46" x2="248.4" y1="97.5688" y2="97.5688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="51.6" y="93.6836">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="183.2" x="60.4" y="93.6836">Initiates the registration of a delivery run</text><polygon fill="#A80036" points="54.8,142.65,46.8,145.85,54.8,149.05,51.6,145.85" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:2.0,2.0;" x1="50" x2="256.4" y1="145.85" y2="145.85"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="59.6" y="141.9648">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="107.2" x="68.4" y="141.9648">Asks for a list of orders</text><polygon fill="#A80036" points="243.6,166.9313,251.6,170.1313,243.6,173.3313,246.8,170.1313" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="46" x2="248.4" y1="170.1313" y2="170.1313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="51.6" y="166.2461">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="83.2" x="60.4" y="166.2461">Gives an order list</text><polygon fill="#A80036" points="407.6,191.2125,415.6,194.4125,407.6,197.6125,410.8,194.4125" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="261.2" x2="412.4" y1="194.4125" y2="194.4125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="266.8" y="190.5273">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="132" x="275.6" y="190.5273">registerDeliveryRun(lstOrder)</text><polygon fill="#A80036" points="797.2,215.4938,805.2,218.6938,797.2,221.8938,800.4,218.6938" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="802" y1="218.6938" y2="218.6938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="430.8" y="214.8086">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="35.2" x="439.6" y="214.8086">create()</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="113.6" x="806.8" y="200.8125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="97.6" x="814.8" y="218.0391">deliveryRunService</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="102.4" x="812.4" y="232.1266">:DeliveryRunService</text><polygon fill="#A80036" points="1130.8,266.8688,1138.8,270.0688,1130.8,273.2688,1134,270.0688" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="865.2" x2="1135.6" y1="270.0688" y2="270.0688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="870.8" y="266.1836">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="35.2" x="879.6" y="266.1836">create()</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="91.2" x="1140.4" y="252.1875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="75.2" x="1148.4" y="269.4141">deliveryRunDB</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="80" x="1146" y="283.5016">:DeliveryRunDB</text><polygon fill="#A80036" points="922,318.2438,930,321.4438,922,324.6438,925.2,321.4438" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="926.8" y1="321.4438" y2="321.4438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="430.8" y="317.5586">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="35.2" x="439.6" y="317.5586">create()</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="84" x="931.6" y="303.5625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="67.2" x="940" y="320.7891">graphService</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="72.8" x="937.2" y="334.8766">:GraphService</text><polygon fill="#A80036" points="1233.2,369.6188,1241.2,372.8188,1233.2,376.0188,1236.4,372.8188" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="975.2" x2="1238" y1="372.8188" y2="372.8188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="980.8" y="368.9336">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="35.2" x="989.6" y="368.9336">create()</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="66.4" x="1242.8" y="354.9375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="52" x="1250" y="372.1641">VehicleDB</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="55.2" x="1248.4" y="386.2516">:VehicleDB</text><polygon fill="#A80036" points="1017.2,420.9938,1025.2,424.1938,1017.2,427.3938,1020.4,424.1938" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="1022" y1="424.1938" y2="424.1938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="430.8" y="420.3086">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="35.2" x="439.6" y="420.3086">create()</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="102.4" x="1026.8" y="406.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="87.2" x="1034.4" y="423.5391">pharmacyService</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="91.2" x="1032.4" y="437.6266">:PharmacyService</text><polygon fill="#A80036" points="1310.8,472.3688,1318.8,475.5688,1310.8,478.7688,1314,475.5688" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="1079.6" x2="1315.6" y1="475.5688" y2="475.5688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="1085.2" y="471.6836">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="35.2" x="1099.6" y="471.6836">create()</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="80" x="1320.4" y="457.6875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="64.8" x="1328" y="474.9141">pharmacyDB</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="68.8" x="1326" y="489.0016">:PharmacyDB</text><polygon fill="#A80036" points="546,523.7438,554,526.9438,546,530.1438,549.2,526.9438" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="550.8" y1="526.9438" y2="526.9438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="523.0586">11</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="89.6" x="445.2" y="523.0586">app = getInstance()</text><polygon fill="#A80036" points="648.4,572.025,656.4,575.225,648.4,578.425,651.6,575.225" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="653.2" y1="575.225" y2="575.225"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="571.3398">12</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="92" x="445.2" y="571.3398">getCurrentSession()</text><polygon fill="#A80036" points="744.8,620.3063,752.8,623.5063,744.8,626.7063,748,623.5063" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="749.6" y1="623.5063" y2="623.5063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="619.6211">13</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="41.6" x="445.2" y="619.6211">getRole()</text><path d="M8,659.5063 L56.8,659.5063 L56.8,665.9063 L48.8,673.9063 L8,673.9063 L8,659.5063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8;"/><rect fill="none" height="919.4438" style="stroke:#000000;stroke-width:1.6;" width="1622.4" x="8" y="659.5063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="20" y="671.1023">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="168" x="68.8" y="670.2414">[if user is authorized (if it's an admin)]</text><polygon fill="#A80036" points="961.6,688.8688,969.6,692.0688,961.6,695.2688,964.8,692.0688" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="966.4" y1="692.0688" y2="692.0688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="688.1836">14</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="244.8" x="445.2" y="688.1836">lstPair = calculateBestVehicleAndBestPath(lstOrder)</text><polygon fill="#A80036" points="1264,713.15,1272,716.35,1264,719.55,1267.2,716.35" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="979.2" x2="1268.8" y1="716.35" y2="716.35"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="984.8" y="712.4648">15</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="244.8" x="999.2" y="712.4648">lstPair = calculateBestVehicleAndBestPath(lstOrder)</text><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="34.1625" style="stroke:#000000;stroke-width:1.6;" width="100.8" x="1240.4" y="746.75"/><polygon fill="#EEEEEE" points="1240.4,746.75,1290,746.75,1290,753.15,1282,761.15,1240.4,761.15,1240.4,746.75" style="stroke:#000000;stroke-width:1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="13.6" x="1250.8" y="759.1461">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="94.4" x="1245.2" y="775.1461">SD_CONNECTIONS</text><path d="M16,790.5125 L64.8,790.5125 L64.8,796.9125 L56.8,804.9125 L16,804.9125 L16,790.5125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8;"/><rect fill="none" height="708.8063" style="stroke:#000000;stroke-width:1.6;" width="1606.4" x="16" y="790.5125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="28" y="802.1086">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="100" x="76.8" y="801.2477">[if model is not empty]</text><polygon fill="#A80036" points="851.6,819.875,859.6,823.075,851.6,826.275,854.8,823.075" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="856.4" y1="823.075" y2="823.075"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="819.1898">16</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="213.6" x="445.2" y="819.1898">model = getMostEfficientVehicleModel(lstPair)</text><path d="M329.2,859.075 L378,859.075 L378,865.475 L370,873.475 L329.2,873.475 L329.2,859.075 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8;"/><rect fill="none" height="359.525" style="stroke:#000000;stroke-width:1.6;" width="1082.4" x="329.2" y="859.075"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="12.8" x="341.2" y="870.6711">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="100" x="390" y="869.8102">[if vehicle is a scooter]</text><polygon fill="#A80036" points="1066,888.4375,1074,891.6375,1066,894.8375,1069.2,891.6375" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="1070.8" y1="891.6375" y2="891.6375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="887.7523">17</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="135.2" x="445.2" y="887.7523">courier = getSuitableCourier()</text><polygon fill="#A80036" points="1348.4,912.7188,1356.4,915.9188,1348.4,919.1188,1351.6,915.9188" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="1083.6" x2="1353.2" y1="915.9188" y2="915.9188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="1089.2" y="912.0336">18</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="91.2" x="1103.6" y="912.0336">getSuitableCourier()</text><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="34.1625" style="stroke:#000000;stroke-width:1.6;" width="100.8" x="1318" y="946.3188"/><polygon fill="#EEEEEE" points="1318,946.3188,1367.6,946.3188,1367.6,952.7188,1359.6,960.7188,1318,960.7188,1318,946.3188" style="stroke:#000000;stroke-width:1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="13.6" x="1328.4" y="958.7148">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="94.4" x="1322.8" y="974.7148">SD_CONNECTIONS</text><polygon fill="#A80036" points="851.6,999.1625,859.6,1002.3625,851.6,1005.5625,854.8,1002.3625" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="856.4" y1="1002.3625" y2="1002.3625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="998.4773">19</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="162.4" x="445.2" y="998.4773">vehicle = getMostChargedScooter()</text><polygon fill="#A80036" points="1174,1023.4438,1182,1026.6438,1174,1029.8438,1177.2,1026.6438" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="869.2" x2="1178.8" y1="1026.6438" y2="1026.6438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="874.8" y="1022.7586">20</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="162.4" x="889.2" y="1022.7586">vehicle = getMostChargedScooter()</text><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="34.1625" style="stroke:#000000;stroke-width:1.6;" width="100.8" x="1138" y="1057.0438"/><polygon fill="#EEEEEE" points="1138,1057.0438,1187.6,1057.0438,1187.6,1063.4438,1179.6,1071.4438,1138,1071.4438,1138,1057.0438" style="stroke:#000000;stroke-width:1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="13.6" x="1148.4" y="1069.4398">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="94.4" x="1142.8" y="1085.4398">SD_CONNECTIONS</text><line style="stroke:#000000;stroke-width:0.8;stroke-dasharray:2.0,2.0;" x1="329.2" x2="1411.6" y1="1096.0063" y2="1096.0063"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="92" x="333.2" y="1105.1414">[if vehicle is a drone]</text><polygon fill="#A80036" points="851.6,1122.5563,859.6,1125.7563,851.6,1128.9563,854.8,1125.7563" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="856.4" y1="1125.7563" y2="1125.7563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="1121.8711">21</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="153.6" x="445.2" y="1121.8711">vehicle = getMostChargedDrone()</text><polygon fill="#A80036" points="1174,1146.8375,1182,1150.0375,1174,1153.2375,1177.2,1150.0375" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="869.2" x2="1178.8" y1="1150.0375" y2="1150.0375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="874.8" y="1146.1523">22</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="153.6" x="889.2" y="1146.1523">vehicle = getMostChargedDrone()</text><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="34.1625" style="stroke:#000000;stroke-width:1.6;" width="100.8" x="1138" y="1180.4375"/><polygon fill="#EEEEEE" points="1138,1180.4375,1187.6,1180.4375,1187.6,1186.8375,1179.6,1194.8375,1138,1194.8375,1138,1180.4375" style="stroke:#000000;stroke-width:1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="13.6" x="1148.4" y="1192.8336">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="94.4" x="1142.8" y="1208.8336">SD_CONNECTIONS</text><polygon fill="#A80036" points="851.6,1238.8813,859.6,1242.0813,851.6,1245.2813,854.8,1242.0813" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="856.4" y1="1242.0813" y2="1242.0813"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="1238.1961">23</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="253.6" x="445.2" y="1238.1961">deliveryRun = newDeliveryRun(courier,lstOrder, vehicle)</text><polygon fill="#A80036" points="1402,1263.1625,1410,1266.3625,1402,1269.5625,1405.2,1266.3625" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="869.2" x2="1406.8" y1="1266.3625" y2="1266.3625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="874.8" y="1262.4773">24</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="140.8" x="889.2" y="1262.4773">create(courier,lstOrder,vehicle)</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="76" x="1411.6" y="1248.4813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="60" x="1419.6" y="1265.7078">deliveryRun</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="64.8" x="1417.2" y="1279.7953">:DeliveryRun</text><polygon fill="#A80036" points="1514.4,1314.5375,1522.4,1317.7375,1514.4,1320.9375,1517.6,1317.7375" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="1451.2" x2="1519.2" y1="1317.7375" y2="1317.7375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="1456.8" y="1313.8523">25</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="35.2" x="1471.2" y="1313.8523">create()</text><rect fill="#FEFECE" filter="url(#fyebxf2oayjgt)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="87.2" x="1524" y="1299.8563"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="30.4" x="1552.4" y="1317.0828">status</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="76" x="1529.6" y="1331.1703">:DeliveryStatus</text><polygon fill="#A80036" points="851.6,1365.9125,859.6,1369.1125,851.6,1372.3125,854.8,1369.1125" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="425.2" x2="856.4" y1="1369.1125" y2="1369.1125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="430.8" y="1365.2273">26</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="150.4" x="445.2" y="1365.2273">addNewDeliveryRun(deliveryRun)</text><polygon fill="#A80036" points="1174,1390.1938,1182,1393.3938,1174,1396.5938,1177.2,1393.3938" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;" x1="869.2" x2="1178.8" y1="1393.3938" y2="1393.3938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="874.8" y="1389.5086">27</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="150.4" x="889.2" y="1389.5086">addNewDeliveryRun(deliveryRun)</text><rect fill="#FFFFFF" filter="url(#fyebxf2oayjgt)" height="34.1625" style="stroke:#000000;stroke-width:1.6;" width="100.8" x="1138" y="1423.7938"/><polygon fill="#EEEEEE" points="1138,1423.7938,1187.6,1423.7938,1187.6,1430.1938,1179.6,1438.1938,1138,1438.1938,1138,1423.7938" style="stroke:#000000;stroke-width:1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="13.6" x="1148.4" y="1436.1898">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="94.4" x="1142.8" y="1452.1898">SD_CONNECTIONS</text><polygon fill="#A80036" points="54.8,1489.7188,46.8,1492.9188,54.8,1496.1188,51.6,1492.9188" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:2.0,2.0;" x1="50" x2="256.4" y1="1492.9188" y2="1492.9188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="59.6" y="1482.493">28</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="173.6" x="74" y="1475.9523">Registers the delivery run and informs</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="160" x="74" y="1489.0336">about the success of the operation</text><line style="stroke:#000000;stroke-width:0.8;stroke-dasharray:2.0,2.0;" x1="8" x2="1630.4" y1="1505.7188" y2="1505.7188"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="203.2" x="12" y="1514.8539">[if User is not authorized or if model is empty]</text><polygon fill="#A80036" points="54.8,1545.35,46.8,1548.55,54.8,1551.75,51.6,1548.55" style="stroke:#A80036;stroke-width:0.8;"/><line style="stroke:#A80036;stroke-width:0.8;stroke-dasharray:2.0,2.0;" x1="50" x2="252.4" y1="1548.55" y2="1548.55"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="59.6" y="1538.1242">29</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="144.8" x="74" y="1531.5836">Informs about the unsuccess of</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="60" x="74" y="1544.6648">the operation</text><!--MD5=[8d162e558dd84d6dc1458f183501185b]
@startuml
autonumber
hide footbox

actor "Admin" as U

participant "RegisterDeliveryRunUI" as UI
participant "RegisterDeliveryRunController" as CTRL
participant "ApplicationPOT" as _APP
participant "app\n:ApplicationPOT" as APP
participant "session\n:UserSession" as SESSION
participant "deliveryRunService\n:DeliveryRunService" as DRS
participant "graphService\n:GraphService" as GF
participant "pharmacyService\n:PharmacyService" as PS
participant "deliveryRunDB\n:DeliveryRunDB" as DB
participant "VehicleDB\n:VehicleDB" as GFDB
participant "pharmacyDB\n:PharmacyDB" as PDB
participant "deliveryRun\n:DeliveryRun" as DR
participant "status\n:DeliveryStatus" as DS

participant "courier\n:Courier" as C
participant "Order" as A

participant "DataHandler" as DH

activate U

U -> UI : Initiates the registration of a delivery run
activate UI







deactivate CTRL


UI - -> U: Asks for a list of orders

deactivate UI




U -> UI : Gives an order list
activate UI
UI -> CTRL : registerDeliveryRun(lstOrder)
activate CTRL




CTRL -> DRS** : create()
activate DRS
DRS -> DB** : create()
deactivate DRS

CTRL -> GF** : create()
activate GF
GF -> GFDB** : create()
deactivate GF

CTRL -> PS** : create()
activate PS
PS -> PDB** : create()
deactivate PS


deactivate OS
CTRL -> _APP: app = getInstance()
activate _APP
deactivate _APP

CTRL -> APP : getCurrentSession()
activate APP
deactivate APP

CTRL -> SESSION : getRole()
activate SESSION
deactivate SESSION

alt if user is authorized (if it's an admin)


CTRL -> GF : lstPair = calculateBestVehicleAndBestPath(lstOrder)
activate GF
GF -> GFDB : lstPair = calculateBestVehicleAndBestPath(lstOrder)
activate GFDB
ref over GFDB
SD_CONNECTIONS
end ref
deactivate GF
deactivate GFDB


alt if model is not empty
CTRL -> DRS : model = getMostEfficientVehicleModel(lstPair)
activate DRS
deactivate DRS

alt if vehicle is a scooter


CTRL -> PS : courier = getSuitableCourier()
activate PS
PS -> PDB : getSuitableCourier()
activate PDB
ref over PDB
SD_CONNECTIONS
end ref
deactivate PS
deactivate PDB

CTRL -> DRS : vehicle = getMostChargedScooter()
activate DRS
DRS -> DB : vehicle = getMostChargedScooter()
activate DB
ref over DB
SD_CONNECTIONS
end ref
deactivate DRS
deactivate DB

else if vehicle is a drone

CTRL -> DRS : vehicle = getMostChargedDrone()
activate DRS
DRS -> DB : vehicle = getMostChargedDrone()
activate DB
ref over DB
SD_CONNECTIONS
end ref
deactivate DRS
deactivate DB

end

CTRL -> DRS : deliveryRun = newDeliveryRun(courier,lstOrder, vehicle)
activate DRS
DRS -> DR** : create(courier,lstOrder,vehicle)
activate DR
DR -> DS** : create()
deactivate DRS


deactivate DR

CTRL -> DRS : addNewDeliveryRun(deliveryRun)
activate DRS
DRS -> DB : addNewDeliveryRun(deliveryRun)
activate DB
deactivate DRS
ref over DB
SD_CONNECTIONS
end ref
deactivate DB


deactivate DB
deactivate DRS

deactivate CTRL

UI - -> U : Registers the delivery run and informs\nabout the success of the operation
deactivate UI
end

else if User is not authorized or if model is empty


UI - -> U : Informs about the unsuccess of\nthe operation
activate UI
deactivate UI
end








deactivate U


@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>