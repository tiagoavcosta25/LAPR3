<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="464.4px" preserveAspectRatio="none" style="width:884px;height:464px;" version="1.1" viewBox="0 0 884 464" width="884.4px" zoomAndPan="magnify"><defs><filter height="300%" id="f1j1crcbvn2css" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="347.8734" style="stroke:#A80036;stroke-width:0.6;" width="6" x="15.9" y="59.7656"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="329.0625" style="stroke:#A80036;stroke-width:0.6;" width="6" x="181.5" y="73.1766"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="288.4406" style="stroke:#A80036;stroke-width:0.6;" width="6" x="287.1" y="91.3875"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="512.4" y="166.3406"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="584.4" y="202.5516"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="584.4" y="238.7625"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18.2109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="667.8" y="109.5984"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="36.2109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="667.8" y="274.9734"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="21.8109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="667.8" y="358.0172"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="831.6" y="293.1844"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="18.6" x2="18.6" y1="53.7656" y2="413.0391"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="184.2" x2="184.2" y1="53.7656" y2="413.0391"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="289.8" x2="289.8" y1="53.7656" y2="413.0391"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="415.2" x2="415.2" y1="53.7656" y2="413.0391"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="515.4" x2="515.4" y1="53.7656" y2="413.0391"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="587.4" x2="587.4" y1="53.7656" y2="413.0391"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="670.8" x2="670.8" y1="53.7656" y2="413.0391"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="834.6" x2="834.6" y1="139.6641" y2="413.0391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="28.2" x="3" y="51.9199">Courier</text><ellipse cx="18.9" cy="9" fill="#FEFECE" filter="url(#f1j1crcbvn2css)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M18.9,13.8 L18.9,30 M11.1,18.6 L26.7,18.6 M18.9,30 L11.1,39 M18.9,30 L26.7,39 " fill="none" filter="url(#f1j1crcbvn2css)" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="28.2" x="3" y="421.159">Courier</text><ellipse cx="18.9" cy="429.0047" fill="#FEFECE" filter="url(#f1j1crcbvn2css)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M18.9,433.8047 L18.9,450.0047 M11.1,438.6047 L26.7,438.6047 M18.9,450.0047 L11.1,459.0047 M18.9,450.0047 L26.7,459.0047 " fill="none" filter="url(#f1j1crcbvn2css)" style="stroke:#A80036;stroke-width:1.2;"/><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="82.2" x="142.2" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.8" x="146.4" y="44.7199">:StartDeliveryRunUI</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="82.2" x="142.2" y="412.4391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.8" x="146.4" y="425.359">:StartDeliveryRunUI</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="112.2" x="232.8" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="103.8" x="237" y="44.7199">:StartDeliveryRunController</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="112.2" x="232.8" y="412.4391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="103.8" x="237" y="425.359">:StartDeliveryRunController</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="121.2" x="353.4" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="112.8" x="357.6" y="44.7199">:SeeSuitableVehicleController</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="121.2" x="353.4" y="412.4391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="112.8" x="357.6" y="425.359">:SeeSuitableVehicleController</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="62.4" x="483" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="54" x="487.2" y="44.7199">PotApplication</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="62.4" x="483" y="412.4391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="54" x="487.2" y="425.359">PotApplication</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="64.8" x="553.8" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="14.4" x="577.8" y="34.1543">app</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="558" y="44.7199">:PotApplication</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="64.8" x="553.8" y="412.4391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="14.4" x="577.8" y="425.359">app</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="558" y="435.9246">:PotApplication</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="85.2" x="627" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="46.8" x="645" y="34.1543">deliveryServ</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="76.8" x="631.2" y="44.7199">:DeliveryRunService</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="85.2" x="627" y="412.4391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="46.8" x="645" y="425.359">deliveryServ</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="76.8" x="631.2" y="435.9246">:DeliveryRunService</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="56.4" x="805.2" y="412.4391"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="45.6" x="809.4" y="425.359">deliveryDB :</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="42" x="812.4" y="435.9246">DeliveryDB</text><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="347.8734" style="stroke:#A80036;stroke-width:0.6;" width="6" x="15.9" y="59.7656"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="329.0625" style="stroke:#A80036;stroke-width:0.6;" width="6" x="181.5" y="73.1766"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="288.4406" style="stroke:#A80036;stroke-width:0.6;" width="6" x="287.1" y="91.3875"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="512.4" y="166.3406"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="584.4" y="202.5516"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="584.4" y="238.7625"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18.2109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="667.8" y="109.5984"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="36.2109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="667.8" y="274.9734"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="21.8109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="667.8" y="358.0172"/><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="831.6" y="293.1844"/><polygon fill="#A80036" points="174.3,70.7766,180.3,73.1766,174.3,75.5766,176.7,73.1766" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="21.9" x2="177.9" y1="73.1766" y2="73.1766"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="26.1" y="70.2627">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="69" x="32.7" y="70.2627">Starts a delivery run</text><polygon fill="#A80036" points="279.9,88.9875,285.9,91.3875,279.9,93.7875,282.3,91.3875" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="187.5" x2="283.5" y1="91.3875" y2="91.3875"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="191.7" y="88.4736">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="61.2" x="198.3" y="88.4736">startDeliveryRun()</text><polygon fill="#A80036" points="660.6,107.1984,666.6,109.5984,660.6,111.9984,663,109.5984" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="293.1" x2="664.2" y1="109.5984" y2="109.5984"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="297.3" y="106.6846">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="26.4" x="303.9" y="106.6846">create()</text><polygon fill="#A80036" points="798,125.4094,804,127.8094,798,130.2094,800.4,127.8094" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="670.8" x2="801.6" y1="127.8094" y2="127.8094"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="675" y="124.8955">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="26.4" x="681.6" y="124.8955">create()</text><rect fill="#FEFECE" filter="url(#f1j1crcbvn2css)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="56.4" x="805.2" y="114.3984"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="45.6" x="809.4" y="127.3184">deliveryDB :</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="42" x="812.4" y="137.884">DeliveryDB</text><polygon fill="#A80036" points="505.2,163.9406,511.2,166.3406,505.2,168.7406,507.6,166.3406" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="293.1" x2="508.8" y1="166.3406" y2="166.3406"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="297.3" y="163.4268">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="67.2" x="303.9" y="163.4268">app = getInstance()</text><polygon fill="#A80036" points="577.2,200.1516,583.2,202.5516,577.2,204.9516,579.6,202.5516" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="293.1" x2="580.8" y1="202.5516" y2="202.5516"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="297.3" y="199.6377">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="105.6" x="303.9" y="199.6377">session = getCurrentSession()</text><polygon fill="#A80036" points="577.2,236.3625,583.2,238.7625,577.2,241.1625,579.6,238.7625" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="293.1" x2="580.8" y1="238.7625" y2="238.7625"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="297.3" y="235.8486">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="105" x="303.9" y="235.8486">email = getCurrentUserEmail()</text><polygon fill="#A80036" points="660.6,272.5734,666.6,274.9734,660.6,277.3734,663,274.9734" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="293.1" x2="664.2" y1="274.9734" y2="274.9734"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="297.3" y="272.0596">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="139.8" x="303.9" y="272.0596">clientsEmail = updateDeliveryRun(email)</text><polygon fill="#A80036" points="824.4,290.7844,830.4,293.1844,824.4,295.5844,826.8,293.1844" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="673.8" x2="828" y1="293.1844" y2="293.1844"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="678" y="290.2705">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="139.8" x="684.6" y="290.2705">clientsEmail = updateDeliveryRun(email)</text><rect fill="#FFFFFF" filter="url(#f1j1crcbvn2css)" height="25.6219" style="stroke:#000000;stroke-width:1.2;" width="75.6" x="803.4" y="315.9844"/><polygon fill="#EEEEEE" points="803.4,315.9844,840.6,315.9844,840.6,320.7844,834.6,326.7844,803.4,326.7844,803.4,315.9844" style="stroke:#000000;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="10.2" x="811.2" y="325.2814">ref</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="70.8" x="807" y="337.2814">SD_CONNECTIONS</text><polygon fill="#A80036" points="660.6,355.6172,666.6,358.0172,660.6,360.4172,663,358.0172" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="293.1" x2="664.2" y1="358.0172" y2="358.0172"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="297.3" y="355.1033">10</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="88.2" x="308.1" y="355.1033">sendsEmail(clientsEmail)</text><line style="stroke:#A80036;stroke-width:0.6;" x1="673.8" x2="699" y1="379.2281" y2="379.2281"/><line style="stroke:#A80036;stroke-width:0.6;" x1="699" x2="699" y1="379.2281" y2="387.0281"/><line style="stroke:#A80036;stroke-width:0.6;" x1="670.8" x2="699" y1="387.0281" y2="387.0281"/><polygon fill="#A80036" points="676.8,384.6281,670.8,387.0281,676.8,389.4281,674.4,387.0281" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="678" y="376.3143">11</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="88.2" x="688.8" y="376.3143">sendsEmail(clientsEmail)</text><polygon fill="#A80036" points="28.5,399.8391,22.5,402.2391,28.5,404.6391,26.1,402.2391" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="24.9" x2="183.9" y1="402.2391" y2="402.2391"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="32.1" y="399.3252">12</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="134.4" x="42.9" y="399.3252">informs of the success of the operation</text><!--MD5=[1d7ef5829ae4416bc2df044d0fa36fdf]
@startuml
autonumber
actor "Courier" as ADMIN
participant ":StartDeliveryRunUI" as UI
participant ":StartDeliveryRunController" as CTRL
participant ":SeeSuitableVehicleController" as CTRLS
participant "PotApplication" as PA
participant "app \n:PotApplication" as APA
participant "deliveryServ \n:DeliveryRunService" as PR
participant "deliveryDB : \nDeliveryDB" as PDB
activate ADMIN

ADMIN -> UI : Starts a delivery run
activate UI

UI -> CTRL : startDeliveryRun()
activate CTRL
CTRL -> PR : create()
activate PR
PR -> PDB** : create()
deactivate PR
CTRL -> PA : app = getInstance()
activate PA
deactivate PA
CTRL -> APA : session = getCurrentSession()
activate APA
deactivate APA

CTRL -> APA : email = getCurrentUserEmail()
activate APA
deactivate APA
CTRL -> PR : clientsEmail = updateDeliveryRun(email)
activate PR
PR -> PDB : clientsEmail = updateDeliveryRun(email)
ref over PDB : SD_CONNECTIONS
activate PDB
deactivate PDB
deactivate PR

CTRL -> PR : sendsEmail(clientsEmail)
activate PR
PR -> PR : sendsEmail(clientsEmail)
deactivate PR
deactivate CTRL
UI -> ADMIN : informs of the success of the operation
deactivate UI

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>