<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="708px" preserveAspectRatio="none" style="width:1485px;height:708px;" version="1.1" viewBox="0 0 1485 708" width="1485px" zoomAndPan="magnify"><defs><filter height="300%" id="f1n6el84pe744p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="514.4766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="26.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="483.125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="302.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="415.4219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="478.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="854" y="259.625"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="974" y="319.9766"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="974" y="380.3281"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1113" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1113" y="440.6797"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="36.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1113" y="531.3828"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1386" y="471.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="31" x2="31" y1="89.6094" y2="623.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="307" x2="307" y1="89.6094" y2="623.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="483" x2="483" y1="89.6094" y2="623.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="692" x2="692" y1="89.6094" y2="623.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="859" x2="859" y1="89.6094" y2="623.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="979" x2="979" y1="89.6094" y2="623.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1118" x2="1118" y1="89.6094" y2="623.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1391" x2="1391" y1="223.9688" y2="623.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="5" y="86.5332">Courier</text><ellipse cx="31.5" cy="15" fill="#FEFECE" filter="url(#f1n6el84pe744p)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M31.5,23 L31.5,50 M18.5,31 L44.5,31 M31.5,50 L18.5,65 M31.5,50 L44.5,65 " fill="none" filter="url(#f1n6el84pe744p)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="5" y="636.6191">Courier</text><ellipse cx="31.5" cy="649.6953" fill="#FEFECE" filter="url(#f1n6el84pe744p)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M31.5,657.6953 L31.5,684.6953 M18.5,665.6953 L44.5,665.6953 M31.5,684.6953 L18.5,699.6953 M31.5,684.6953 L44.5,699.6953 " fill="none" filter="url(#f1n6el84pe744p)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="137" x="237" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="244" y="74.5332">:StartDeliveryRunUI</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="137" x="237" y="622.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="244" y="643.6191">:StartDeliveryRunUI</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="388" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="395" y="74.5332">:StartDeliveryRunController</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="388" y="622.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="395" y="643.6191">:StartDeliveryRunController</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="202" x="589" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="596" y="74.5332">:SeeSuitableVehicleController</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="202" x="589" y="622.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="596" y="643.6191">:SeeSuitableVehicleController</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="805" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="812" y="74.5332">PotApplication</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="805" y="622.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="812" y="643.6191">PotApplication</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="108" x="923" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="963" y="56.9238">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="930" y="74.5332">:PotApplication</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="108" x="923" y="622.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="963" y="643.6191">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="930" y="661.2285">:PotApplication</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="142" x="1045" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1075" y="56.9238">deliveryServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1052" y="74.5332">:DeliveryRunService</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="142" x="1045" y="622.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1075" y="643.6191">deliveryServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1052" y="661.2285">:DeliveryRunService</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1307" y="622.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1314" y="643.6191">deliveryDB : DeliveryDB</text><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="514.4766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="26.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="483.125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="302.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="415.4219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="478.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="854" y="259.625"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="974" y="319.9766"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="974" y="380.3281"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1113" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1113" y="440.6797"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="36.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1113" y="531.3828"/><rect fill="#FFFFFF" filter="url(#f1n6el84pe744p)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1386" y="471.0313"/><polygon fill="#A80036" points="290.5,117.9609,300.5,121.9609,290.5,125.9609,294.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36.5" x2="296.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="43.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="54.5" y="117.1045">Starts a delivery run</text><polygon fill="#A80036" points="466.5,148.3125,476.5,152.3125,466.5,156.3125,470.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="312.5" x2="472.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="319.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="330.5" y="147.4561">startDeliveryRun()</text><polygon fill="#A80036" points="1101,178.6641,1111,182.6641,1101,186.6641,1105,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="1107" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="495.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="506.5" y="177.8076">create()</text><polygon fill="#A80036" points="1295,209.0156,1305,213.0156,1295,217.0156,1299,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1118" x2="1301" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1125" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1136" y="208.1592">create()</text><rect fill="#FEFECE" filter="url(#f1n6el84pe744p)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1307" y="190.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1314" y="212.1973">deliveryDB : DeliveryDB</text><polygon fill="#A80036" points="842,255.625,852,259.625,842,263.625,846,259.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="848" y1="259.625" y2="259.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="495.5" y="254.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="506.5" y="254.7686">app = getInstance()</text><polygon fill="#A80036" points="962,315.9766,972,319.9766,962,323.9766,966,319.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="968" y1="319.9766" y2="319.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="495.5" y="315.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="506.5" y="315.1201">session = getCurrentSession()</text><polygon fill="#A80036" points="962,376.3281,972,380.3281,962,384.3281,966,380.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="968" y1="380.3281" y2="380.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="495.5" y="375.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="506.5" y="375.4717">email = getCurrentUserEmail()</text><polygon fill="#A80036" points="1101,436.6797,1111,440.6797,1101,444.6797,1105,440.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="1107" y1="440.6797" y2="440.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="495.5" y="435.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="506.5" y="435.8232">clientsEmail = updateDeliveryRun(email)</text><polygon fill="#A80036" points="1374,467.0313,1384,471.0313,1374,475.0313,1378,471.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1123" x2="1380" y1="471.0313" y2="471.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1130" y="466.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1141" y="466.1748">clientsEmail = updateDeliveryRun(email)</text><polygon fill="#A80036" points="1101,527.3828,1111,531.3828,1101,535.3828,1105,531.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="1107" y1="531.3828" y2="531.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="495.5" y="526.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="513.5" y="526.5264">sendsEmail(clientsEmail)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1123" x2="1165" y1="566.7344" y2="566.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1165" x2="1165" y1="566.7344" y2="579.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1118" x2="1165" y1="579.7344" y2="579.7344"/><polygon fill="#A80036" points="1128,575.7344,1118,579.7344,1128,583.7344,1124,579.7344" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1130" y="561.8779">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1148" y="561.8779">sendsEmail(clientsEmail)</text><polygon fill="#A80036" points="47.5,601.0859,37.5,605.0859,47.5,609.0859,43.5,605.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41.5" x2="306.5" y1="605.0859" y2="605.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53.5" y="600.2295">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="71.5" y="600.2295">informs of the success of the operation</text><!--MD5=[685ce676e50031a23ec432d1fd3e0d51]
@startuml
autonumber
actor "Courier" as ADMIN
participant ":StartDeliveryRunUI" as UI
participant ":StartDeliveryRunController" as CTRL
participant ":SeeSuitableVehicleController" as CTRLS
participant "PotApplication" as PA
participant "app \n:PotApplication" as APA
participant "deliveryServ \n:DeliveryRunService" as PR
participant "deliveryDB : DeliveryDB" as PDB
activate ADMIN

ADMIN -> UI : Starts a delivery run
activate UI

UI -> CTRL : startDeliveryRun()
activate CTRL
CTRL -> PR : create()
activate PR
PR -> PDB** : create()
deactivate PR
CTRL -> PA : app = getInstance()
activate PA
deactivate PA
CTRL -> APA : session = getCurrentSession()
activate APA
deactivate APA

CTRL -> APA : email = getCurrentUserEmail()
activate APA
deactivate APA
CTRL -> PR : clientsEmail = updateDeliveryRun(email)
activate PR
PR -> PDB : clientsEmail = updateDeliveryRun(email)
activate PDB
deactivate PDB
deactivate PR

CTRL -> PR : sendsEmail(clientsEmail)
activate PR
PR -> PR : sendsEmail(clientsEmail)
deactivate PR
deactivate CTRL
UI -> ADMIN : informs of the success of the operation
deactivate UI

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>