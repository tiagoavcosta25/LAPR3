<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1648px" preserveAspectRatio="none" style="width:3398px;height:1648px;" version="1.1" viewBox="0 0 3398 1648" width="3398px" zoomAndPan="magnify"><defs><filter height="300%" id="f5calmmybfhx0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="1521.0938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="24" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="638.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="119.9609"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="229.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="789.2344"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="370.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="1048.6953"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="168.7578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="1449.9453"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="530.5156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="150.3125"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="120.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="819.5859"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="255.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="1079.0469"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="1480.2969"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1099" y="180.6641"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1219" y="241.0156"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1219" y="301.3672"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1335.5" y="361.7188"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="422.0703"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="590.4766"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="849.9375"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="1109.3984"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1547" y="482.4219"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1704.5" y="650.8281"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1868.5" y="910.2891"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="164.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2019.5" y="1169.75"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2019.5" y="1510.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="29" x2="29" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="439" x2="439" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="952" x2="952" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1104" x2="1104" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1224" x2="1224" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1340" x2="1340" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1438" x2="1438" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1552" x2="1552" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1709" x2="1709" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1873" x2="1873" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2024" x2="2024" y1="87.6094" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2885.5" x2="2885.5" y1="1219.8594" y2="1636.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3354" x2="3354" y1="1284.0781" y2="1636.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="8" y="84.5332">Client</text><ellipse cx="29" cy="13" fill="#FEFECE" filter="url(#f5calmmybfhx0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M29,21 L29,48 M16,29 L42,29 M29,48 L16,63 M29,48 L42,63 " fill="none" filter="url(#f5calmmybfhx0)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="380" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="387" y="72.5332">MakeAnOrderUI</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="868" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="875" y="72.5332">MakeAnOrderController</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="1050" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1057" y="72.5332">PotApplication</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1168" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="1210" y="54.9238">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="1175" y="72.5332">:PotApplication</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1290" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="1314.5" y="54.9238">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1297" y="72.5332">:UserSession</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="1401" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="1424.5" y="54.9238">plat</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="1408" y="72.5332">:Platform</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="1485" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1520.5" y="54.9238">clientReg</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1492" y="72.5332">:ClientRegistration</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="1629" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1678" y="54.9238">clientReg</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="1636" y="72.5332">:PharmacyRegistration</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="1800" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="1844" y="54.9238">prodReg</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="1807" y="72.5332">:ProductRegistration</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="1957" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="1992.5" y="54.9238">orderReg</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="1964" y="72.5332">:OrderRegistration</text><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="1521.0938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="24" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="638.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="119.9609"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="229.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="789.2344"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="370.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="1048.6953"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="168.7578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="1449.9453"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="530.5156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="150.3125"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="120.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="819.5859"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="255.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="1079.0469"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="947" y="1480.2969"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1099" y="180.6641"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1219" y="241.0156"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1219" y="301.3672"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1335.5" y="361.7188"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="422.0703"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="590.4766"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="849.9375"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1433" y="1109.3984"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1547" y="482.4219"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1704.5" y="650.8281"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1868.5" y="910.2891"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="164.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2019.5" y="1169.75"/><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2019.5" y="1510.6484"/><polygon fill="#A80036" points="422,115.9609,432,119.9609,422,123.9609,426,119.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="428" y1="119.9609" y2="119.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="41" y="115.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="52" y="115.1045">sends a request to make an order</text><polygon fill="#A80036" points="935,146.3125,945,150.3125,935,154.3125,939,150.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444" x2="941" y1="150.3125" y2="150.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="451" y="145.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="462" y="145.4561">lstPharmacies = getPharmacies()</text><polygon fill="#A80036" points="1087,176.6641,1097,180.6641,1087,184.6641,1091,180.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1093" y1="180.6641" y2="180.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="964" y="175.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="975" y="175.8076">app = getInstance()</text><polygon fill="#A80036" points="1207,237.0156,1217,241.0156,1207,245.0156,1211,241.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1213" y1="241.0156" y2="241.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="964" y="236.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="975" y="236.1592">plat = getPlaform()</text><polygon fill="#A80036" points="1207,297.3672,1217,301.3672,1207,305.3672,1211,301.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1213" y1="301.3672" y2="301.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="964" y="296.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="975" y="296.5107">session = getCurrentSession()</text><polygon fill="#A80036" points="1323.5,357.7188,1333.5,361.7188,1323.5,365.7188,1327.5,361.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1329.5" y1="361.7188" y2="361.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="964" y="356.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="975" y="356.8623">email = getUserEmail()</text><polygon fill="#A80036" points="1421,418.0703,1431,422.0703,1421,426.0703,1425,422.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1427" y1="422.0703" y2="422.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="964" y="417.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="975" y="417.2139">clienteReg = getClientReg()</text><polygon fill="#A80036" points="1535,478.4219,1545,482.4219,1535,486.4219,1539,482.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1541" y1="482.4219" y2="482.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="964" y="477.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="975" y="477.5654">client = getUserByEmail(email)</text><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="136" x="1482" y="520.4219"/><polygon fill="#EEEEEE" points="1482,520.4219,1544,520.4219,1544,528.4219,1534,538.4219,1482,538.4219,1482,520.4219" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1495" y="535.917">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1493" y="555.917">SD_CONNECTIONS</text><polygon fill="#A80036" points="1421,586.4766,1431,590.4766,1421,594.4766,1425,590.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1427" y1="590.4766" y2="590.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="964" y="585.6201">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="975" y="585.6201">pharamcyReg = getPharmacyReg()</text><polygon fill="#A80036" points="1692.5,646.8281,1702.5,650.8281,1692.5,654.8281,1696.5,650.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1698.5" y1="650.8281" y2="650.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="964" y="645.9717">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="982" y="645.9717">lstPharmacies = getPharmacies()</text><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="163" x="1626" y="688.8281"/><polygon fill="#EEEEEE" points="1626,688.8281,1688,688.8281,1688,696.8281,1678,706.8281,1626,706.8281,1626,688.8281" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1639" y="704.3232">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1650.5" y="724.3232">SD_CONNECTIONS</text><polygon fill="#A80036" points="45,754.8828,35,758.8828,45,762.8828,41,758.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="438" y1="758.8828" y2="758.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="51" y="754.0264">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="69" y="754.0264">shows the list of the pharmacies</text><polygon fill="#A80036" points="422,785.2344,432,789.2344,422,793.2344,426,789.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="428" y1="789.2344" y2="789.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="41" y="784.3779">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="59" y="784.3779">chooses which products and which quantities to order</text><polygon fill="#A80036" points="935,815.5859,945,819.5859,935,823.5859,939,819.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444" x2="941" y1="819.5859" y2="819.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="451" y="814.7295">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="469" y="814.7295">lstProducts = getAvailableProducts(pharmacy)</text><polygon fill="#A80036" points="1421,845.9375,1431,849.9375,1421,853.9375,1425,849.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1427" y1="849.9375" y2="849.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="964" y="845.0811">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="982" y="845.0811">prodReg = getProductReg()</text><polygon fill="#A80036" points="1856.5,906.2891,1866.5,910.2891,1856.5,914.2891,1860.5,910.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1862.5" y1="910.2891" y2="910.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="964" y="905.4326">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="982" y="905.4326">lstProducts = getAvailableProducts()</text><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="149" x="1797" y="948.2891"/><polygon fill="#EEEEEE" points="1797,948.2891,1859,948.2891,1859,956.2891,1849,966.2891,1797,966.2891,1797,948.2891" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1810" y="963.7842">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1814.5" y="983.7842">SD_CONNECTIONS</text><polygon fill="#A80036" points="45,1014.3438,35,1018.3438,45,1022.3438,41,1018.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="438" y1="1018.3438" y2="1018.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="51" y="1013.4873">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="69" y="1013.4873">shows the list of the available products</text><polygon fill="#A80036" points="422,1044.6953,432,1048.6953,422,1052.6953,426,1048.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="428" y1="1048.6953" y2="1048.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="41" y="1043.8389">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="59" y="1043.8389">chooses which products and which quantities to order</text><polygon fill="#A80036" points="935,1075.0469,945,1079.0469,935,1083.0469,939,1079.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444" x2="941" y1="1079.0469" y2="1079.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="451" y="1074.1904">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="466" x="469" y="1074.1904">newOrder(address, amount, additionalFee, dateOrder, description, mapProducts)</text><polygon fill="#A80036" points="1421,1105.3984,1431,1109.3984,1421,1113.3984,1425,1109.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="1427" y1="1109.3984" y2="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="964" y="1104.542">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="982" y="1104.542">ordReg = getOrderReg()</text><polygon fill="#A80036" points="2007.5,1165.75,2017.5,1169.75,2007.5,1173.75,2011.5,1169.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="2013.5" y1="1169.75" y2="1169.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="964" y="1164.8936">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="847" x="982" y="1164.8936">order = addOrder(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)</text><polygon fill="#A80036" points="2844.5,1196.1016,2854.5,1200.1016,2844.5,1204.1016,2848.5,1200.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2029.5" x2="2850.5" y1="1200.1016" y2="1200.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2036.5" y="1195.2451">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="785" x="2054.5" y="1195.2451">create(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="2856.5" y="1177.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="2867" y="1199.2832">order</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="2863.5" y="1216.8926">:Order</text><polygon fill="#A80036" points="3305,1260.3203,3315,1264.3203,3305,1268.3203,3309,1264.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2886" x2="3311" y1="1264.3203" y2="1264.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2893" y="1259.4639">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="2911" y="1259.4639">create(streetName,doorNumber,locality,country,longitude,longitude)</text><rect fill="#FEFECE" filter="url(#f5calmmybfhx0)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="3317" y="1241.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="3326.5" y="1263.502">address</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="3324" y="1281.1113">:Address</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2029.5" x2="2071.5" y1="1333.5391" y2="1333.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2071.5" x2="2071.5" y1="1333.5391" y2="1346.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2024.5" x2="2071.5" y1="1346.5391" y2="1346.5391"/><polygon fill="#A80036" points="2034.5,1342.5391,2024.5,1346.5391,2034.5,1350.5391,2030.5,1346.5391" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2036.5" y="1328.6826">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="2054.5" y="1328.6826">validateOrder(order)</text><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="137" x="1954" y="1349.5391"/><polygon fill="#EEEEEE" points="1954,1349.5391,2016,1349.5391,2016,1357.5391,2006,1367.5391,1954,1367.5391,1954,1349.5391" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1967" y="1365.0342">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1965.5" y="1385.0342">SD_CONNECTIONS</text><polygon fill="#A80036" points="45,1415.5938,35,1419.5938,45,1423.5938,41,1419.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="438" y1="1419.5938" y2="1419.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="51" y="1414.7373">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="323" x="69" y="1414.7373">validates, presents the order and asks for a confirmation</text><polygon fill="#A80036" points="422,1445.9453,432,1449.9453,422,1453.9453,426,1449.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="428" y1="1449.9453" y2="1449.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="41" y="1445.0889">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="59" y="1445.0889">confirms</text><polygon fill="#A80036" points="935,1476.2969,945,1480.2969,935,1484.2969,939,1480.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444" x2="941" y1="1480.2969" y2="1480.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="451" y="1475.4404">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="469" y="1475.4404">registerOrder()</text><polygon fill="#A80036" points="2007.5,1506.6484,2017.5,1510.6484,2007.5,1514.6484,2011.5,1510.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957" x2="2013.5" y1="1510.6484" y2="1510.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="964" y="1505.792">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="982" y="1505.792">registerOrder(order)</text><rect fill="#FFFFFF" filter="url(#f5calmmybfhx0)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="137" x="1954" y="1548.6484"/><polygon fill="#EEEEEE" points="1954,1548.6484,2016,1548.6484,2016,1556.6484,2006,1566.6484,1954,1566.6484,1954,1548.6484" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1967" y="1564.1436">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1965.5" y="1584.1436">SD_CONNECTIONS</text><polygon fill="#A80036" points="40,1614.7031,30,1618.7031,40,1622.7031,36,1618.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="438" y1="1618.7031" y2="1618.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="46" y="1613.8467">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="358" x="64" y="1613.8467">registers the order and informs of the success of the operation</text><!--MD5=[de55aecb4f51b03c445b3ee1f52051b7]
@startuml
autonumber
hide footbox

actor "Client" as CL

participant "MakeAnOrderUI" as UI
participant "MakeAnOrderController" as CTRL
participant "PotApplication" as _APP
participant "app\n:PotApplication" as APP
participant "session\n:UserSession" as SESSION
participant "plat\n:Platform" as PLAT
participant "clientReg\n:ClientRegistration" as CR
participant "clientReg\n:PharmacyRegistration" as PHR
participant "prodReg\n:ProductRegistration" as PR
participant "orderReg\n:OrderRegistration" as OR
participant "order\n:Order" as O
participant "address\n:Address" as AD

activate CL

CL -> UI : sends a request to make an order
activate UI
UI -> CTRL : lstPharmacies = getPharmacies()
activate CTRL
CTRL -> _APP: app = getInstance()
activate _APP
deactivate _APP

CTRL -> APP: plat = getPlaform()
activate APP
deactivate APP

CTRL -> APP: session = getCurrentSession()
activate APP
deactivate APP

CTRL -> SESSION: email = getUserEmail()
activate SESSION
deactivate SESSION
CTRL -> PLAT : clienteReg = getClientReg()
activate PLAT
deactivate PLAT
CTRL -> CR : client = getUserByEmail(email)
activate CR
ref over CR
SD_CONNECTIONS
end ref
deactivate CR
CTRL -> PLAT : pharamcyReg = getPharmacyReg()
activate PLAT
deactivate PLAT
CTRL -> PHR : lstPharmacies = getPharmacies()
activate PHR
ref over PHR
SD_CONNECTIONS
end ref
deactivate PHR
deactivate CTRL



UI -> CL : shows the list of the pharmacies
deactivate UI

CL -> UI : chooses which products and which quantities to order
activate UI
UI -> CTRL : lstProducts = getAvailableProducts(pharmacy)
activate CTRL
CTRL -> PLAT : prodReg = getProductReg()
activate PLAT
deactivate PLAT
CTRL -> PR : lstProducts = getAvailableProducts()
activate PR
ref over PR
SD_CONNECTIONS
end ref
deactivate PR
deactivate CTRL
UI -> CL : shows the list of the available products
deactivate UI

CL -> UI : chooses which products and which quantities to order
activate UI
UI -> CTRL : newOrder(address, amount, additionalFee, dateOrder, description, mapProducts)
activate CTRL
CTRL -> PLAT : ordReg = getOrderReg()
activate PLAT
deactivate PLAT
CTRL -> OR : order = addOrder(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)
activate OR
OR -> O** : create(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)
O -> AD** : create(streetName,doorNumber,locality,country,longitude,longitude)
OR -> OR : validateOrder(order)
ref over OR
SD_CONNECTIONS
end ref
deactivate OR
deactivate CTRL
UI -> CL : validates, presents the order and asks for a confirmation
deactivate UI

CL -> UI : confirms
activate UI
UI -> CTRL : registerOrder()
activate CTRL
CTRL -> OR : registerOrder(order)
activate OR
ref over OR
SD_CONNECTIONS
end ref
deactivate OR
deactivate CTRL
UI -> CL : registers the order and informs of the success of the operation
deactivate UI
deactivate CL

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.66
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>