@startuml
autonumber
hide footbox

actor "Client" as U

participant "RegisterClientUI" as UI
participant "RegisterClientController" as CTRL
participant "PotApplication" as _APP
participant "app\n:PotApplication" as APP
participant "plat\n:Platform" as PLAT
participant "clientReg\n:ClientRegistration" as UREG

participant "client\n:Client" as USER

participant "ClientDB" as DB
participant "DataHandler" as DH

activate U

U -> UI : Engages the register feature/button
activate UI

UI --> U : Asks for all the information required \nfor the register (i.e. name,email,password,address,\ngpsLocation,creditCardNr,validityDate,CCV)


deactivate UI
U -> UI : Fills all the information required
activate UI
UI -> CTRL : registerNewUser(name,email,password,address,gpsLocation,creditCardNr,validityDate,CCV)
activate CTRL
CTRL -> _APP: app = getInstance()
activate _APP
deactivate _APP

CTRL -> APP: plat = getPlaform()
activate APP
deactivate APP
CTRL -> PLAT : clientReg = getClientReg()
activate PLAT
deactivate PLAT

CTRL -> UREG : client = registerNewClient(name,email,password,address,gpsLocation,creditCardNr,validityDate,CCV)
activate UREG


UREG -> USER** : create(name,email,password,address,gpsLocation,creditCardNr,validityDate,CCV)







UREG -> USER : save()


activate USER

USER -> DB : addClientToDB(client)
deactivate USER
activate DB
DB -> DH : openConnection()
activate DH
deactivate DH
DB -> DH : closeAll()
activate DH
deactivate DH
deactivate DB
deactivate UREG



deactivate CTRL
UI --> U : Validates all the information, informing of the success of the operation
deactivate UI
deactivate U

@enduml