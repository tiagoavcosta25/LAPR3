<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1175px" preserveAspectRatio="none" style="width:2785px;height:1175px;" version="1.1" viewBox="0 0 2785 1175" width="2785px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jhzokdt2dadn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="1043.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="63.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="215.3672"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="774.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="276.0703"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="1113.2734"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="649.9063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="979" y="322.7734"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="54.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="363.125"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="497.9141"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="46.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="599.9688"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="912.3281"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1610" y="942.6797"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="209.0469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1926" y="656.6719"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="84.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2185.5" y="704.5391"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2422.5" y="758.7578"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="608.3594" style="stroke:#000000;stroke-width:2.0;" width="2668" x="10" y="542.9141"/><rect fill="#FFFFFF" height="92.5391" style="stroke:none;stroke-width:1.0;" width="2668" x="10" y="1058.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="89.6094" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="518.5" x2="518.5" y1="89.6094" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="983.5" x2="983.5" y1="89.6094" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1136.5" x2="1136.5" y1="89.6094" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1264.5" x2="1264.5" y1="89.6094" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1442.5" x2="1442.5" y1="372.8828" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1614.5" x2="1614.5" y1="437.1016" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1931" x2="1931" y1="650.0781" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2190" x2="2190" y1="714.2969" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2427" x2="2427" y1="89.6094" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2536" x2="2536" y1="830.0625" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2624" x2="2624" y1="876.6719" y2="1168.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2726" x2="2726" y1="89.6094" y2="1168.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="20" y="86.5332">Client</text><ellipse cx="41" cy="15" fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,23 L41,50 M28,31 L54,31 M41,50 L28,65 M41,50 L54,65 " fill="none" filter="url(#f1jhzokdt2dadn)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="115" x="459.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="466.5" y="74.5332">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="165" x="899.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="906.5" y="74.5332">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1078.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1085.5" y="74.5332">ApplicationPOT</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1204.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="1250.5" y="56.9238">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1211.5" y="74.5332">:ApplicationPOT</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="123" x="2364" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="2371" y="74.5332">EncryptPassword</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2678" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="2685" y="74.5332">DataHandler</text><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="1043.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="63.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="215.3672"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="774.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="276.0703"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="1113.2734"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="649.9063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="979" y="322.7734"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="54.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="363.125"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="497.9141"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="46.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="599.9688"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1438" y="912.3281"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1610" y="942.6797"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="209.0469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1926" y="656.6719"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="84.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2185.5" y="704.5391"/><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2422.5" y="758.7578"/><polygon fill="#A80036" points="502,117.9609,512,121.9609,502,125.9609,506,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="508" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="53" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="64" y="117.1045">Engages the register feature/button</text><polygon fill="#A80036" points="57,181.0156,47,185.0156,57,189.0156,53,185.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="518" y1="185.0156" y2="185.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="63" y="163.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="74" y="147.4561">Asks for all the information required</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="433" x="74" y="163.8076">for the register (i.e. name,nif,email,password,latitude,longitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="412" x="74" y="180.1592">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><polygon fill="#A80036" points="502,211.3672,512,215.3672,502,219.3672,506,215.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="508" y1="215.3672" y2="215.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="53" y="210.5107">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="64" y="210.5107">Fills all the information required</text><polygon fill="#A80036" points="57,241.7188,47,245.7188,57,249.7188,53,245.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="518" y1="245.7188" y2="245.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="63" y="240.8623">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="74" y="240.8623">Presents the data and asks for a confirmation</text><polygon fill="#A80036" points="502,272.0703,512,276.0703,502,280.0703,506,276.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="508" y1="276.0703" y2="276.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="53" y="271.2139">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="64" y="271.2139">Confirms</text><polygon fill="#A80036" points="967,318.7734,977,322.7734,967,326.7734,971,322.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="524" x2="973" y1="322.7734" y2="322.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="531" y="309.7412">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="425" x="542" y="301.5654">registerNewClient(name,nif,email,password,latitude,longitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="412" x="542" y="317.917">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><polygon fill="#A80036" points="1378.5,349.125,1388.5,353.125,1378.5,357.125,1382.5,353.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="989" x2="1384.5" y1="353.125" y2="353.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="996" y="348.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1007" y="348.2686">create()</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="101" x="1390.5" y="330.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1401" y="352.3066">clientService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1397.5" y="369.916">:ClientService</text><polygon fill="#A80036" points="1564.5,413.3438,1574.5,417.3438,1564.5,421.3438,1568.5,417.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1443" x2="1570.5" y1="417.3438" y2="417.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1450" y="412.4873">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1461" y="412.4873">create()</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1576.5" y="394.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1587" y="416.5254">clientDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1583.5" y="434.1348">:ClientDB</text><polygon fill="#A80036" points="1426,493.9141,1436,497.9141,1426,501.9141,1430,497.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="989" x2="1432" y1="497.9141" y2="497.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="996" y="484.8818">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="395" x="1007" y="476.7061">validateInput(name,nif,email,password,latitude,longitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="412" x="1007" y="493.0576">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><path d="M10,542.9141 L71,542.9141 L71,550.9141 L61,560.9141 L10,560.9141 L10,542.9141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="608.3594" style="stroke:#000000;stroke-width:2.0;" width="2668" x="10" y="542.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="25" y="557.4092">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="298" x="86" y="556.333">[if all the information given as input has a valid format]</text><polygon fill="#A80036" points="1426,595.9688,1436,599.9688,1426,603.9688,1430,599.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="989" x2="1432" y1="599.9688" y2="599.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="996" y="586.9365">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="380" x="1014" y="578.7607">newClient(name,nif,email,password,latitude,longitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="412" x="1014" y="595.1123">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><polygon fill="#A80036" points="1890,642.6719,1900,646.6719,1890,650.6719,1894,646.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1443" x2="1896" y1="646.6719" y2="646.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1450" y="633.6396">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="1468" y="625.4639">create(name,nif,email,password,latitude,longitude,streetName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="412" x="1468" y="641.8154">doorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="54" x="1902" y="607.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="1912.5" y="629.502">client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="1909" y="647.1113">:Client</text><polygon fill="#A80036" points="2153,690.5391,2163,694.5391,2153,698.5391,2157,694.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1936" x2="2159" y1="694.5391" y2="694.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1943" y="689.6826">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="1961" y="689.6826">create(email,password,nif,name)</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="47" x="2165" y="672.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="2174.5" y="693.7207">user</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="2172" y="711.3301">:User</text><polygon fill="#A80036" points="2410.5,754.7578,2420.5,758.7578,2410.5,762.7578,2414.5,758.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2195.5" x2="2416.5" y1="758.7578" y2="758.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2202.5" y="753.9014">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="2220.5" y="753.9014">encryptPasswordMD5(password)</text><polygon fill="#A80036" points="2489,815.1094,2499,819.1094,2489,823.1094,2493,819.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1936" x2="2495" y1="819.1094" y2="819.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1943" y="814.2529">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="448" x="1961" y="814.2529">create(latitude,longitude,streetName,doorNumber,postalCode,locality,country)</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="66" x="2501" y="796.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="2508" y="818.291">Address</text><polygon fill="#A80036" points="2569,861.7188,2579,865.7188,2569,869.7188,2573,865.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1931" x2="2575" y1="865.7188" y2="865.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1938" y="860.8623">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="1956" y="860.8623">create(creditCardNr,validityDate,CCV)</text><rect fill="#FEFECE" filter="url(#f1jhzokdt2dadn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="83" x="2581" y="843.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="2588" y="864.9004">CreditCard</text><polygon fill="#A80036" points="1426,908.3281,1436,912.3281,1426,916.3281,1430,912.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="989" x2="1432" y1="912.3281" y2="912.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="996" y="907.4717">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1014" y="907.4717">registerNewClient(client)</text><polygon fill="#A80036" points="1598,938.6797,1608,942.6797,1598,946.6797,1602,942.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1448" x2="1604" y1="942.6797" y2="942.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1455" y="937.8232">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1473" y="937.8232">addClientToDB(client)</text><rect fill="#FFFFFF" filter="url(#f1jhzokdt2dadn)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="126" x="1573.5" y="980.6797"/><polygon fill="#EEEEEE" points="1573.5,980.6797,1635.5,980.6797,1635.5,988.6797,1625.5,998.6797,1573.5,998.6797,1573.5,980.6797" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1586.5" y="996.1748">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1579.5" y="1016.1748">SD_CONNECTIONS</text><polygon fill="#A80036" points="57,1046.7344,47,1050.7344,57,1054.7344,53,1050.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="518" y1="1050.7344" y2="1050.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="63" y="1045.8779">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="81" y="1045.8779">Validates and informs about the success of the operation</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="2678" y1="1059.7344" y2="1059.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="262" x="15" y="1071.1533">[if any information does not have a valid format]</text><polygon fill="#A80036" points="57,1109.2734,47,1113.2734,57,1117.2734,53,1113.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51" x2="513" y1="1113.2734" y2="1113.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="63" y="1100.2412">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="81" y="1092.0654">Informs the User that the operation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="81" y="1108.417">was not successful</text><!--MD5=[5b8457352f46e2f124605fa76c846c7c]
@startuml
autonumber
hide footbox

actor "Client" as U

participant "RegisterClientUI" as UI
participant "RegisterClientController" as CTRL
participant "ApplicationPOT" as _APP
participant "app\n:ApplicationPOT" as APP
participant "clientService\n:ClientService" as CS
participant "clientDB\n:ClientDB" as UREG

participant "client\n:Client" as USER
participant "user\n:User" as US
participant "EncryptPassword" as EP
participant Address as ADD
participant CreditCard as CC

participant "DataHandler" as DH

activate U

U -> UI : Engages the register feature/button
activate UI

UI - -> U : Asks for all the information required \nfor the register (i.e. name,nif,email,password,latitude,longitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)


deactivate UI
U -> UI : Fills all the information required


activate UI


UI - -> U : Presents the data and asks for a confirmation

deactivate UI
U -> UI : Confirms
activate UI
UI -> CTRL : registerNewClient(name,nif,email,password,latitude,longitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
activate CTRL
CTRL -> CS** : create()
activate CS
CS -> UREG** : create()
deactivate CS
CTRL -> CS : validateInput(name,nif,email,password,latitude,longitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
activate CS
deactivate CS
alt if all the information given as input has a valid format




CTRL -> CS : newClient(name,nif,email,password,latitude,longitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
activate CS
CS -> USER** : create(name,nif,email,password,latitude,longitude,streetName,\ndoorNumber,postalCode,locality,country,creditCardNr,validityDate,CCV)
deactivate CS
activate USER

USER -> US** : create(email,password,nif,name)

activate US
US -> EP : encryptPasswordMD5(password)
activate EP
deactivate EP
deactivate US

USER -> ADD** : create(latitude,longitude,streetName,doorNumber,postalCode,locality,country)
USER -> CC** : create(creditCardNr,validityDate,CCV)
deactivate USER





CTRL -> CS : registerNewClient(client)
activate CS
CS -> UREG : addClientToDB(client)
ref over UREG
SD_CONNECTIONS
end ref
activate UREG
deactivate UREG





deactivate CS



deactivate CTRL

UI - -> U : Validates and informs about the success of the operation
deactivate UI

else if any information does not have a valid format


UI -> U : Informs the User that the operation\nwas not successful
activate UI
deactivate UI
deactivate U

end

@enduml

PlantUML version 1.2020.23(Sun Dec 13 19:14:58 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>