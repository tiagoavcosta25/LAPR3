@startuml
skinparam classAttributeIconSize 0


package "Controller" #DDDDDD {
class ApplicationPOT
{
  +static getInstance()
  +getCurrentSession(session)
}
}

package "Data" #DDDDDD {
class PharmacyDB{
+getPharmacyByManagerEmail(email)
}

class OrderDB{
+getOrdersFromPharmacy(pharmacy)
}

class DeliveryRunDB {
+newDelivery(order)
+getSuitableCourier()
+addNewDeliveryRun(deliveryRun)
+addDelivery(lstDelivery)
}

class DataHandler{
+openConnection()
+closeAll()
}

}

package "UI" #DDDDDD {
class RegisterDeliveryRunUI{

}



}


package "Controller" #DDDDDD {
class RegisterDeliveryRunController{
+getOrders()
+addNewDeliveryOrder(order)
+newDeliveryRun()
}
}


package "Model" #DDDDDD {
class Delivery{
+Delivery(order)
}

class DeliveryRun{
+DeliveryRun(courier,lstDelivery)
}

}

package "Model" #DDDDDD {
class UserSession{
-String email
+getCurrentUserEmail()
}

enum DeliveryStatus{
+DeliveryStatus()
}




}




RegisterDeliveryRunUI ..> RegisterDeliveryRunController
RegisterDeliveryRunController ..> ApplicationPOT
RegisterDeliveryRunController ..> PharmacyDB
RegisterDeliveryRunController ..> OrderDB
RegisterDeliveryRunController ..> DeliveryRunDB

DeliveryRun "1" --> "*" Delivery : has
DeliveryRun "1" --> "1" DeliveryStatus : has

OrderDB "1" --> "*" DeliveryRun : adds

class DeliveryRunDB extends DataHandler
class OrderDB extends DataHandler
class PharmacyDB extends DataHandler
ApplicationPOT "1" --> "1" UserSession : has

@enduml