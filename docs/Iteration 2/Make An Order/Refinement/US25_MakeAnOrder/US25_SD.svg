<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1685.6px" preserveAspectRatio="none" style="width:2917px;height:1685px;" version="1.1" viewBox="0 0 2917 1685" width="2917.6px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ud3dfh6bt6g1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.6"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.2" dy="3.2" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="1583.6375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="31.2" y="78.0875"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="596.075" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="95.9688"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="282.3188" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="716.325"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="72.5625" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="1022.925"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="339.7063" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="1125.3688"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="172.3688" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="1489.3563"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="509.35" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="120.25"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="175.3125" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="740.6063"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="1047.2063"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="278.0625" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="1162.7313"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="72.5625" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="1513.6375"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="704.8" y="144.5313"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="800.8" y="192.8125"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="894" y="241.0938"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="984.4" y="297.375"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1082.4" y="392.125"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1174" y="486.5688"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="48.2813" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1174" y="581.3188"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1366.8" y="605.6"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1463.6" y="772.8875"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="48.2813" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1463.6" y="867.6375"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1670" y="891.9188"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1756.4" y="1195.0125"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="151.0313" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1756.4" y="1289.7625"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="48.2813" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1756.4" y="1537.9188"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1883.6" y="1562.2"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="118.75" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="2445.6" y="1322.0438"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="2884.8" y="1416.7938"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="135.8063" style="stroke: #000000; stroke-width: 1.6;" width="652" x="10.4" y="966.0813"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="35.2" x2="35.2" y1="70.0875" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="335.2" x2="335.2" y1="70.0875" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="587.2" x2="587.2" y1="70.0875" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="708.8" x2="708.8" y1="70.0875" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="804.8" x2="804.8" y1="70.0875" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="897.6" x2="897.6" y1="70.0875" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="988" x2="988" y1="305.1813" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1086" x2="1086" y1="356.5563" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1178" x2="1178" y1="494.375" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1370.8" x2="1370.8" y1="545.75" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1467.6" x2="1467.6" y1="780.6938" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1674" x2="1674" y1="832.0688" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1760.4" x2="1760.4" y1="1202.8188" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1887.6" x2="1887.6" y1="1254.1938" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="2449.2" x2="2449.2" y1="1329.85" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="2828" x2="2828" y1="1381.225" y2="1676.125"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="2888.8" x2="2888.8" y1="70.0875" y2="1676.125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="28.8" x="18.4" y="67.6266">Client</text><ellipse cx="35.2" cy="10.4" fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" rx="6.4" ry="6.4" style="stroke: #A80036; stroke-width: 1.6;"/><path d="M35.2,16.8 L35.2,38.4 M24.8,23.2 L45.6,23.2 M35.2,38.4 L24.8,50.4 M35.2,38.4 L45.6,50.4 " fill="none" filter="url(#f1ud3dfh6bt6g1)" style="stroke: #A80036; stroke-width: 1.6;"/><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="25.2875" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="91.2" x="288" y="40.8"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="80" x="293.6" y="58.0266">MakeAnOrderUI</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="25.2875" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="131.2" x="520" y="40.8"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="120" x="525.6" y="58.0266">MakeAnOrderController</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="25.2875" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="83.2" x="665.6" y="40.8"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="72" x="671.2" y="58.0266">PotApplication</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="86.4" x="760" y="26.7125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="19.2" x="793.6" y="43.9391">app</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="75.2" x="765.6" y="58.0266">:PotApplication</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="77.6" x="857.6" y="26.7125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="38.4" x="877.2" y="43.9391">session</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="66.4" x="863.2" y="58.0266">:UserSession</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="43.2" x="2865.6" y="26.7125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="26.4" x="2874" y="43.9391">client</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="32" x="2871.2" y="58.0266">:Client</text><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="1583.6375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="31.2" y="78.0875"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="596.075" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="95.9688"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="282.3188" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="716.325"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="72.5625" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="1022.925"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="339.7063" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="1125.3688"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="172.3688" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="331.2" y="1489.3563"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="509.35" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="120.25"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="175.3125" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="740.6063"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="1047.2063"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="278.0625" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="1162.7313"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="72.5625" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="583.2" y="1513.6375"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="704.8" y="144.5313"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="800.8" y="192.8125"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="894" y="241.0938"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="984.4" y="297.375"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1082.4" y="392.125"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1174" y="486.5688"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="48.2813" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1174" y="581.3188"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1366.8" y="605.6"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1463.6" y="772.8875"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="48.2813" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1463.6" y="867.6375"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1670" y="891.9188"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="43.375" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1756.4" y="1195.0125"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="151.0313" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1756.4" y="1289.7625"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="48.2813" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1756.4" y="1537.9188"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="1883.6" y="1562.2"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="118.75" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="2445.6" y="1322.0438"/><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="24" style="stroke: #A80036; stroke-width: 0.8;" width="8" x="2884.8" y="1416.7938"/><polygon fill="#A80036" points="321.6,92.7688,329.6,95.9688,321.6,99.1688,324.8,95.9688" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="39.2" x2="326.4" y1="95.9688" y2="95.9688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="44.8" y="92.0836">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="156" x="53.6" y="92.0836">sends a request to make an order</text><polygon fill="#A80036" points="573.6,117.05,581.6,120.25,573.6,123.45,576.8,120.25" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="339.2" x2="578.4" y1="120.25" y2="120.25"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="344.8" y="116.3648">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="155.2" x="353.6" y="116.3648">lstPharmacies = getPharmacies()</text><polygon fill="#A80036" points="695.2,141.3313,703.2,144.5313,695.2,147.7313,698.4,144.5313" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="700" y1="144.5313" y2="144.5313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="596.8" y="140.6461">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="89.6" x="605.6" y="140.6461">app = getInstance()</text><polygon fill="#A80036" points="791.2,189.6125,799.2,192.8125,791.2,196.0125,794.4,192.8125" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="796" y1="192.8125" y2="192.8125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="596.8" y="188.9273">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="140.8" x="605.6" y="188.9273">session = getCurrentSession()</text><polygon fill="#A80036" points="884.4,237.8938,892.4,241.0938,884.4,244.2938,887.6,241.0938" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="889.2" y1="241.0938" y2="241.0938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="596.8" y="237.2086">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="605.6" y="237.2086">email = getUserEmail()</text><polygon fill="#A80036" points="936.8,286.175,944.8,289.375,936.8,292.575,940,289.375" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="941.6" y1="289.375" y2="289.375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="596.8" y="285.4898">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="605.6" y="285.4898">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="80.8" x="946.4" y="271.4938"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="49.6" x="962" y="288.7203">clientServ</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="69.6" x="952" y="302.8078">:ClientService</text><polygon fill="#A80036" points="1046,337.55,1054,340.75,1046,343.95,1049.2,340.75" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="988.4" x2="1050.8" y1="340.75" y2="340.75"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="994" y="336.8648">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="1002.8" y="336.8648">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="58.4" x="1055.6" y="322.8688"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="41.6" x="1064" y="340.0953">clientDB</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="47.2" x="1061.2" y="354.1828">:ClientDB</text><polygon fill="#A80036" points="1072.8,388.925,1080.8,392.125,1072.8,395.325,1076,392.125" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1077.6" y1="392.125" y2="392.125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="596.8" y="388.2398">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="144" x="605.6" y="388.2398">client = getUserByEmail(email)</text><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="34.1625" style="stroke: #000000; stroke-width: 1.6;" width="100.8" x="1053.2" y="422.525"/><polygon fill="#EEEEEE" points="1053.2,422.525,1102.8,422.525,1102.8,428.925,1094.8,436.925,1053.2,436.925,1053.2,422.525" style="stroke: #000000; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="1063.6" y="434.9211">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="94.4" x="1058" y="450.9211">SD_CONNECTIONS</text><polygon fill="#A80036" points="1115.6,475.3688,1123.6,478.5688,1115.6,481.7688,1118.8,478.5688" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1120.4" y1="478.5688" y2="478.5688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.6" x="596.8" y="474.6836">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="605.6" y="474.6836">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="102.4" x="1125.2" y="460.6875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="1140" y="477.9141">pharmacyServ</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="91.2" x="1130.8" y="492.0016">:PharmacyService</text><polygon fill="#A80036" points="1319.6,526.7438,1327.6,529.9438,1319.6,533.1438,1322.8,529.9438" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="1178" x2="1324.4" y1="529.9438" y2="529.9438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="1183.6" y="526.0586">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="1198" y="526.0586">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="80" x="1329.2" y="512.0625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="1336.8" y="529.2891">pharmacyDB</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="68.8" x="1334.8" y="543.3766">:PharmacyDB</text><polygon fill="#A80036" points="1164.4,578.1188,1172.4,581.3188,1164.4,584.5188,1167.6,581.3188" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1169.2" y1="581.3188" y2="581.3188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="596.8" y="577.4336">11</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="155.2" x="611.2" y="577.4336">lstPharmacies = getPharmacies()</text><polygon fill="#A80036" points="1357.2,602.4,1365.2,605.6,1357.2,608.8,1360.4,605.6" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="1182" x2="1362" y1="605.6" y2="605.6"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="1187.6" y="601.7148">12</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="155.2" x="1202" y="601.7148">lstPharmacies = getPharmacies()</text><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="34.1625" style="stroke: #000000; stroke-width: 1.6;" width="100.8" x="1326.8" y="636"/><polygon fill="#EEEEEE" points="1326.8,636,1376.4,636,1376.4,642.4,1368.4,650.4,1326.8,650.4,1326.8,636" style="stroke: #000000; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="1337.2" y="648.3961">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="94.4" x="1331.6" y="664.3961">SD_CONNECTIONS</text><polygon fill="#A80036" points="48,688.8438,40,692.0438,48,695.2438,44.8,692.0438" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="43.2" x2="334.4" y1="692.0438" y2="692.0438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="52.8" y="688.1586">13</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="149.6" x="67.2" y="688.1586">shows the list of the pharmacies</text><polygon fill="#A80036" points="321.6,713.125,329.6,716.325,321.6,719.525,324.8,716.325" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="39.2" x2="326.4" y1="716.325" y2="716.325"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="44.8" y="712.4398">14</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="248" x="59.2" y="712.4398">chooses which products and which quantities to order</text><polygon fill="#A80036" points="573.6,737.4063,581.6,740.6063,573.6,743.8063,576.8,740.6063" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="339.2" x2="578.4" y1="740.6063" y2="740.6063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="344.8" y="736.7211">15</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="214.4" x="359.2" y="736.7211">lstProducts = getAvailableProducts(pharmacy)</text><polygon fill="#A80036" points="1410.8,761.6875,1418.8,764.8875,1410.8,768.0875,1414,764.8875" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1415.6" y1="764.8875" y2="764.8875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="596.8" y="761.0023">16</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="611.2" y="761.0023">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="91.2" x="1420.4" y="747.0063"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="1435.2" y="764.2328">productServ</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="80" x="1426" y="778.3203">:ProductService</text><polygon fill="#A80036" points="1628.4,813.0625,1636.4,816.2625,1628.4,819.4625,1631.6,816.2625" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="1467.6" x2="1633.2" y1="816.2625" y2="816.2625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="1473.2" y="812.3773">17</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="1487.6" y="812.3773">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="68.8" x="1638" y="798.3813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="53.6" x="1645.6" y="815.6078">productDB</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="1643.6" y="829.6953">:ProductDB</text><polygon fill="#A80036" points="1454,864.4375,1462,867.6375,1454,870.8375,1457.2,867.6375" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1458.8" y1="867.6375" y2="867.6375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="596.8" y="863.7523">18</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="168.8" x="611.2" y="863.7523">lstProducts = getAvailableProducts()</text><polygon fill="#A80036" points="1660.4,888.7188,1668.4,891.9188,1660.4,895.1188,1663.6,891.9188" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="1471.6" x2="1665.2" y1="891.9188" y2="891.9188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="1477.2" y="888.0336">19</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="168.8" x="1491.6" y="888.0336">lstProducts = getAvailableProducts()</text><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="34.1625" style="stroke: #000000; stroke-width: 1.6;" width="100.8" x="1635.6" y="922.3188"/><polygon fill="#EEEEEE" points="1635.6,922.3188,1685.2,922.3188,1685.2,928.7188,1677.2,936.7188,1635.6,936.7188,1635.6,922.3188" style="stroke: #000000; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="1646" y="934.7148">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="94.4" x="1640.4" y="950.7148">SD_CONNECTIONS</text><path d="M10.4,966.0813 L68.8,966.0813 L68.8,972.4813 L60.8,980.4813 L10.4,980.4813 L10.4,966.0813 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8;"/><rect fill="none" height="135.8063" style="stroke: #000000; stroke-width: 1.6;" width="652" x="10.4" y="966.0813"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22.4" x="22.4" y="977.6773">loop</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174.4" x="80.8" y="976.8164">[until there is no more products to add]</text><polygon fill="#A80036" points="48,995.4438,40,998.6438,48,1001.8438,44.8,998.6438" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="43.2" x2="334.4" y1="998.6438" y2="998.6438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="52.8" y="994.7586">20</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="178.4" x="67.2" y="994.7586">shows the list of the available products</text><polygon fill="#A80036" points="321.6,1019.725,329.6,1022.925,321.6,1026.125,324.8,1022.925" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="39.2" x2="326.4" y1="1022.925" y2="1022.925"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="44.8" y="1019.0398">21</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="234.4" x="59.2" y="1019.0398">chooses which product and which quantity to order</text><polygon fill="#A80036" points="573.6,1044.0063,581.6,1047.2063,573.6,1050.4063,576.8,1047.2063" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="339.2" x2="578.4" y1="1047.2063" y2="1047.2063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="344.8" y="1043.3211">22</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="173.6" x="359.2" y="1043.3211">addProductToOrder(product, quantity)</text><polygon fill="#A80036" points="48,1092.2875,40,1095.4875,48,1098.6875,44.8,1095.4875" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="43.2" x2="334.4" y1="1095.4875" y2="1095.4875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="52.8" y="1091.6023">23</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="211.2" x="67.2" y="1091.6023">asks if the user is done adding more products</text><polygon fill="#A80036" points="321.6,1122.1688,329.6,1125.3688,321.6,1128.5688,324.8,1125.3688" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="39.2" x2="326.4" y1="1125.3688" y2="1125.3688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="44.8" y="1121.4836">24</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="184.8" x="59.2" y="1121.4836">confirms that there is not more products</text><polygon fill="#A80036" points="573.6,1159.5313,581.6,1162.7313,573.6,1165.9313,576.8,1162.7313" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="339.2" x2="578.4" y1="1162.7313" y2="1162.7313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="344.8" y="1152.3055">25</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="196" x="359.2" y="1145.7648">newOrder(address, amount, additionalFee,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="105.6" x="362.4" y="1158.8461">dateOrder, description)</text><polygon fill="#A80036" points="1708.4,1183.8125,1716.4,1187.0125,1708.4,1190.2125,1711.6,1187.0125" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1713.2" y1="1187.0125" y2="1187.0125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="596.8" y="1183.1273">26</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="611.2" y="1183.1273">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="81.6" x="1718" y="1169.1313"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="50.4" x="1733.6" y="1186.3578">orderServ</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="70.4" x="1723.6" y="1200.4453">:OrderService</text><polygon fill="#A80036" points="1846.8,1235.1875,1854.8,1238.3875,1846.8,1241.5875,1850,1238.3875" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="1760.4" x2="1851.6" y1="1238.3875" y2="1238.3875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="1766" y="1234.5023">27</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="1780.4" y="1234.5023">create()</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="59.2" x="1856.4" y="1220.5063"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="42.4" x="1864.8" y="1237.7328">orderDB</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="48" x="1862" y="1251.8203">:OrderDB</text><polygon fill="#A80036" points="1746.8,1286.5625,1754.8,1289.7625,1746.8,1292.9625,1750,1289.7625" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1751.6" y1="1289.7625" y2="1289.7625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="596.8" y="1285.8773">28</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="677.6" x="611.2" y="1285.8773">order = addOrder(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)</text><polygon fill="#A80036" points="2416.4,1310.8438,2424.4,1314.0438,2416.4,1317.2438,2419.6,1314.0438" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="1764.4" x2="2421.2" y1="1314.0438" y2="1314.0438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="1770" y="1310.1586">29</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="628" x="1784.4" y="1310.1586">create(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="44" x="2426" y="1296.1625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="27.2" x="2434.4" y="1313.3891">order</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="32.8" x="2431.6" y="1327.4766">:Order</text><polygon fill="#A80036" points="2788.8,1362.2188,2796.8,1365.4188,2788.8,1368.6188,2792,1365.4188" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="2453.6" x2="2793.6" y1="1365.4188" y2="1365.4188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="2459.2" y="1361.5336">30</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="311.2" x="2473.6" y="1361.5336">create(streetName,doorNumber,locality,country,longitude,longitude)</text><rect fill="#FEFECE" filter="url(#f1ud3dfh6bt6g1)" height="39.375" style="stroke: #A80036; stroke-width: 1.2000000000000002;" width="56" x="2798.4" y="1347.5375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="40.8" x="2806" y="1364.7641">address</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="44.8" x="2804" y="1378.8516">:Address</text><polygon fill="#A80036" points="2875.2,1413.5938,2883.2,1416.7938,2875.2,1419.9938,2878.4,1416.7938" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="2453.6" x2="2880" y1="1416.7938" y2="1416.7938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="2459.2" y="1412.9086">31</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="130.4" x="2473.6" y="1412.9086">addCredits(addtionalCredits)</text><polygon fill="#A80036" points="48,1461.875,40,1465.075,48,1468.275,44.8,1465.075" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="43.2" x2="334.4" y1="1465.075" y2="1465.075"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="52.8" y="1461.1898">32</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="258.4" x="67.2" y="1461.1898">validates, presents the order and asks for a confirmation</text><polygon fill="#A80036" points="321.6,1486.1563,329.6,1489.3563,321.6,1492.5563,324.8,1489.3563" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="39.2" x2="326.4" y1="1489.3563" y2="1489.3563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="44.8" y="1485.4711">33</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="39.2" x="59.2" y="1485.4711">confirms</text><polygon fill="#A80036" points="573.6,1510.4375,581.6,1513.6375,573.6,1516.8375,576.8,1513.6375" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="339.2" x2="578.4" y1="1513.6375" y2="1513.6375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="344.8" y="1509.7523">34</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="66.4" x="359.2" y="1509.7523">registerOrder()</text><polygon fill="#A80036" points="1746.8,1534.7188,1754.8,1537.9188,1746.8,1541.1188,1750,1537.9188" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="591.2" x2="1751.6" y1="1537.9188" y2="1537.9188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="596.8" y="1534.0336">35</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="89.6" x="611.2" y="1534.0336">registerOrder(order)</text><polygon fill="#A80036" points="1874,1559,1882,1562.2,1874,1565.4,1877.2,1562.2" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="1764.4" x2="1878.8" y1="1562.2" y2="1562.2"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="1770" y="1558.3148">36</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="89.6" x="1784.4" y="1558.3148">registerOrder(order)</text><rect fill="#FFFFFF" filter="url(#f1ud3dfh6bt6g1)" height="34.1625" style="stroke: #000000; stroke-width: 1.6;" width="100.8" x="1854" y="1592.6"/><polygon fill="#EEEEEE" points="1854,1592.6,1903.6,1592.6,1903.6,1599,1895.6,1607,1854,1607,1854,1592.6" style="stroke: #000000; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="1864.4" y="1604.9961">ref</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="94.4" x="1858.8" y="1620.9961">SD_CONNECTIONS</text><polygon fill="#A80036" points="44,1658.525,36,1661.725,44,1664.925,40.8,1661.725" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="39.2" x2="334.4" y1="1661.725" y2="1661.725"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.2" x="48.8" y="1651.2992">37</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="188" x="63.2" y="1644.7586">registers the order, generates the invoice</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="199.2" x="66.4" y="1657.8398">and informs of the success of the operation</text><!--MD5=[bf891403bfa081e5a965423375028eae]
@startuml
autonumber
hide footbox

actor "Client" as CL

participant "MakeAnOrderUI" as UI
participant "MakeAnOrderController" as CTRL
participant "PotApplication" as _APP
participant "app\n:PotApplication" as APP
participant "session\n:UserSession" as SESSION
participant "clientServ\n:ClientService" as CS
participant "clientDB\n:ClientDB" as CDB
participant "pharmacyServ\n:PharmacyService" as PHS
participant "pharmacyDB\n:PharmacyDB" as PHDB
participant "productServ\n:ProductService" as PS
participant "productDB\n:ProductDB" as PDB
participant "orderServ\n:OrderService" as OS
participant "orderDB\n:OrderDB" as ODB
participant "order\n:Order" as O
participant "address\n:Address" as AD
participant "client\n:Client" as C

activate CL

CL -> UI : sends a request to make an order
activate UI
UI -> CTRL : lstPharmacies = getPharmacies()
activate CTRL
CTRL -> _APP: app = getInstance()
activate _APP
deactivate _APP

CTRL -> APP: session = getCurrentSession()
activate APP
deactivate APP

CTRL -> SESSION: email = getUserEmail()
activate SESSION
deactivate SESSION
CTRL -> CS** : create()
activate CS
CS -> CDB** : create()
deactivate CS
CTRL -> CDB : client = getUserByEmail(email)
activate CDB
ref over CDB
SD_CONNECTIONS
end ref
deactivate CDB
CTRL -> PHS** : create()
activate PHS
PHS -> PHDB** : create()
deactivate PHS
CTRL -> PHS : lstPharmacies = getPharmacies()
activate PHS
PHS -> PHDB : lstPharmacies = getPharmacies()
activate PHDB
ref over PHDB
SD_CONNECTIONS
end ref
deactivate PHDB
deactivate PHS
deactivate CTRL

UI -> CL : shows the list of the pharmacies
deactivate UI

CL -> UI : chooses which products and which quantities to order
activate UI
UI -> CTRL : lstProducts = getAvailableProducts(pharmacy)
activate CTRL
CTRL -> PS** : create()
activate PS
PS -> PDB** : create()
deactivate PS
CTRL -> PS : lstProducts = getAvailableProducts()
activate PS
PS -> PDB : lstProducts = getAvailableProducts()
activate PDB
ref over PDB
SD_CONNECTIONS
end ref
deactivate PDB
deactivate PS
deactivate CTRL
loop until there is no more products to add
UI -> CL : shows the list of the available products
deactivate UI

CL -> UI : chooses which product and which quantity to order
activate UI
UI -> CTRL : addProductToOrder(product, quantity)
activate CTRL
deactivate CTRL
UI -> CL : asks if the user is done adding more products
deactivate UI
end

CL -> UI : confirms that there is not more products
activate UI
UI -> CTRL : newOrder(address, amount, additionalFee,\n dateOrder, description)
activate CTRL

CTRL -> OS** : create()
activate OS
OS -> ODB** : create()
deactivate OS
CTRL -> OS : order = addOrder(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)
activate OS
OS -> O** : create(amount, additionalFee, dateOrder, description, mapProducts, client, streetName,doorNumber,locality,country,longitude,longitude)
activate O
O -> AD** : create(streetName,doorNumber,locality,country,longitude,longitude)
O -> C : addCredits(addtionalCredits)
activate C
deactivate C
deactivate O
deactivate OS
deactivate CTRL
UI -> CL : validates, presents the order and asks for a confirmation
deactivate UI

CL -> UI : confirms
activate UI
UI -> CTRL : registerOrder()
activate CTRL
CTRL -> OS : registerOrder(order)
activate OS
OS -> ODB : registerOrder(order)
activate ODB
ref over ODB
SD_CONNECTIONS
end ref
deactivate ODB
deactivate OS
deactivate CTRL
UI -> CL : registers the order, generates the invoice\n and informs of the success of the operation
deactivate UI
deactivate CL

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.66
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>