<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="721px" preserveAspectRatio="none" style="width:1335px;height:721px;" version="1.1" viewBox="0 0 1335 721" width="1335px" zoomAndPan="magnify"><defs><filter height="300%" id="f1i4km19ct64fr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="491.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="234" y="105.9219"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="420" y="136.2734"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="540" y="196.625"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="643" y="256.9766"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="317.3281"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="442.0859"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="536.6563"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111.5" y="317.3281"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111.5" y="567.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="239" x2="239" y1="57.2188" y2="662.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="425" x2="425" y1="57.2188" y2="662.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="545" x2="545" y1="57.2188" y2="662.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="648" x2="648" y1="57.2188" y2="662.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="775" x2="775" y1="57.2188" y2="662.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1116.5" x2="1116.5" y1="57.2188" y2="662.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1258.5" x2="1258.5" y1="492.1953" y2="662.7109"/><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="117" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="124" y="42.1426">:MakeAPharmacyTransferController</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="117" y="661.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="124" y="683.2441">:MakeAPharmacyTransferController</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="371" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="378" y="42.1426">PotApplication</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="371" y="661.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="378" y="683.2441">PotApplication</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="489" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="529" y="24.5332">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="496" y="42.1426">:PotApplication</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="489" y="661.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="529" y="683.2441">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="496" y="700.8535">:PotApplication</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="611" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="632.5" y="24.5332">plat</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="618" y="42.1426">:Platform</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="611" y="661.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="632.5" y="683.2441">plat</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="618" y="700.8535">:Platform</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="695" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="738.5" y="24.5332">pharmReg</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="702" y="42.1426">:PharmacyRegistration</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="695" y="661.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="738.5" y="683.2441">pharmReg</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="702" y="700.8535">:PharmacyRegistration</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="1066.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1073.5" y="42.1426">PharmacyDB</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="1066.5" y="661.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1073.5" y="683.2441">PharmacyDB</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="1189.5" y="661.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1199" y="683.2441">pharmacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1196.5" y="700.8535">:PharmacyTransfer</text><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="491.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="234" y="105.9219"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="420" y="136.2734"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="540" y="196.625"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="643" y="256.9766"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="317.3281"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="442.0859"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="536.6563"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111.5" y="317.3281"/><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111.5" y="567.0078"/><ellipse cx="10.5" cy="105.1719" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="222,101.9219,232,105.9219,222,109.9219,226,105.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="228" y1="105.9219" y2="105.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="18" y="92.8896">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="29" y="84.7139">getStockFromAnotherPharamacy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="29" y="101.0654">(order, product, quantity)</text><polygon fill="#A80036" points="408,132.2734,418,136.2734,408,140.2734,412,136.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="414" y1="136.2734" y2="136.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="131.417">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="262" y="131.417">app = getInstance()</text><polygon fill="#A80036" points="528,192.625,538,196.625,528,200.625,532,196.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="534" y1="196.625" y2="196.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="191.7686">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="262" y="191.7686">plat = getPlatform()</text><polygon fill="#A80036" points="631,252.9766,641,256.9766,631,260.9766,635,256.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="637" y1="256.9766" y2="256.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="252.1201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="262" y="252.1201">pharmReg = getPharmacyReg()</text><polygon fill="#A80036" points="758.5,313.3281,768.5,317.3281,758.5,321.3281,762.5,317.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="764.5" y1="317.3281" y2="317.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="312.4717">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="466" x="262" y="312.4717">nearbyPharamcy = getClosestPharmacyWithStock(pharmacy, product, quantity)</text><polygon fill="#A80036" points="1104.5,360.0313,1114.5,364.0313,1104.5,368.0313,1108.5,364.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="775.5" x2="1110.5" y1="364.0313" y2="364.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="782.5" y="350.999">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="793.5" y="342.8232">nearbyPharamcy = getClosestPharmacyWithStock</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="793.5" y="359.1748">(pharmacy, product, quantity)</text><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1063.5" y="372.0313"/><polygon fill="#EEEEEE" points="1063.5,372.0313,1125.5,372.0313,1125.5,380.0313,1115.5,390.0313,1063.5,390.0313,1063.5,372.0313" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1076.5" y="387.5264">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1069.5" y="407.5264">SD_CONNECTIONS</text><polygon fill="#A80036" points="758.5,438.0859,768.5,442.0859,758.5,446.0859,762.5,442.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="764.5" y1="442.0859" y2="442.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="437.2295">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="262" y="437.2295">addPharmacyTransfer(order, product, quantity, nearbyPharamcy)</text><polygon fill="#A80036" points="1177.5,468.4375,1187.5,472.4375,1177.5,476.4375,1181.5,472.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="775.5" x2="1183.5" y1="472.4375" y2="472.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="782.5" y="467.5811">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="793.5" y="467.5811">addPharmacyTransfer(order, product, quantity, nearbyPharamcy)</text><rect fill="#FEFECE" filter="url(#f1i4km19ct64fr)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="1189.5" y="450.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1199" y="471.6191">pharmacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1196.5" y="489.2285">:PharmacyTransfer</text><polygon fill="#A80036" points="758.5,532.6563,768.5,536.6563,758.5,540.6563,762.5,536.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="764.5" y1="536.6563" y2="536.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="531.7998">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="262" y="531.7998">registersPharmacyTransfer(pharmacyTransfer)</text><polygon fill="#A80036" points="1099.5,563.0078,1109.5,567.0078,1099.5,571.0078,1103.5,567.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="780.5" x2="1105.5" y1="567.0078" y2="567.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="787.5" y="562.1514">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="805.5" y="562.1514">registersPharmacyTransfer(pharmacyTransfer)</text><rect fill="#FFFFFF" filter="url(#f1i4km19ct64fr)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1063.5" y="605.0078"/><polygon fill="#EEEEEE" points="1063.5,605.0078,1125.5,605.0078,1125.5,613.0078,1115.5,623.0078,1063.5,623.0078,1063.5,605.0078" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1076.5" y="620.5029">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1069.5" y="640.5029">SD_CONNECTIONS</text><!--MD5=[d81d9ec8df09cd50136424c3d96b1d0d]
@startuml
autonumber
participant ":MakeAPharmacyTransferController" as CTRL
participant "PotApplication" as PA
participant "app \n:PotApplication" as APA
participant "plat \n:Platform" as PLAT
participant "pharmReg \n:PharmacyRegistration" as PR
participant "PharmacyDB" as PDB
participant "pharmacyTransfer\n:PharmacyTransfer" as PT

[o-> CTRL : getStockFromAnotherPharamacy\n(order, product, quantity)
activate CTRL
CTRL -> PA : app = getInstance()
activate PA
deactivate PA
CTRL -> APA : plat = getPlatform()
activate APA
deactivate APA
CTRL -> PLAT : pharmReg = getPharmacyReg()
activate PLAT
deactivate PLAT
CTRL -> PR : nearbyPharamcy = getClosestPharmacyWithStock(pharmacy, product, quantity)
activate PR
activate PDB
PR -> PDB : nearbyPharamcy = getClosestPharmacyWithStock\n(pharmacy, product, quantity)
ref over PDB
SD_CONNECTIONS
end ref
deactivate PDB
deactivate PR

CTRL -> PR : addPharmacyTransfer(order, product, quantity, nearbyPharamcy)
activate PR
PR -> PT** : addPharmacyTransfer(order, product, quantity, nearbyPharamcy)
deactivate PR

CTRL -> PR : registersPharmacyTransfer(pharmacyTransfer)
activate PR
PR -> PDB : registersPharmacyTransfer(pharmacyTransfer)
activate PDB
ref over PDB
SD_CONNECTIONS
end ref
deactivate PDB
deactivate PR
deactivate PR
deactivate CTRL

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.66
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>