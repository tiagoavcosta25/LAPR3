<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="860px" preserveAspectRatio="none" style="width:1619px;height:860px;" version="1.1" viewBox="0 0 1619 860" width="1619px" zoomAndPan="magnify"><defs><filter height="300%" id="f1alpgncygvl6y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="629.6094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="234" y="105.9219"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570" y="146.2734"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="76.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570" y="281.0625"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="906" y="327.7656"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1061" y="445.8203"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="211.625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1061" y="580.6094"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1066" y="675.1797"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1379" y="705.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="239" x2="239" y1="57.2188" y2="801.2344"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="575" x2="575" y1="156.0313" y2="801.2344"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="911" x2="911" y1="220.25" y2="801.2344"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1066" x2="1066" y1="455.5781" y2="801.2344"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1384" x2="1384" y1="519.7969" y2="801.2344"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1542" x2="1542" y1="630.7188" y2="801.2344"/><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="117" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="124" y="42.1426">:MakeAPharmacyTransferController</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="117" y="800.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="124" y="821.7676">:MakeAPharmacyTransferController</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="509" y="800.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="536.5" y="821.7676">pharmServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="516" y="839.377">:PharmacyService</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="859" y="800.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="868.5" y="821.7676">pharamcyDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="866" y="839.377">:PharmacyDB</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="973" y="800.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1000.5" y="821.7676">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="980" y="839.377">:PharmacyTransferService</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1305" y="800.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1325.5" y="821.7676">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1312" y="839.377">:PharmacyTransferDB</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="1473" y="800.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1482.5" y="821.7676">pharmacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1480" y="839.377">:PharmacyTransfer</text><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="629.6094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="234" y="105.9219"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570" y="146.2734"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="76.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570" y="281.0625"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="906" y="327.7656"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1061" y="445.8203"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="211.625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1061" y="580.6094"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1066" y="675.1797"/><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1379" y="705.5313"/><ellipse cx="10.5" cy="105.1719" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="222,101.9219,232,105.9219,222,109.9219,226,105.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="228" y1="105.9219" y2="105.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="18" y="92.8896">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="29" y="84.7139">getStockFromAnotherPharamacy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="29" y="101.0654">(order, product, quantity)</text><polygon fill="#A80036" points="497,132.2734,507,136.2734,497,140.2734,501,136.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="503" y1="136.2734" y2="136.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="131.417">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="262" y="131.417">create()</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="509" y="113.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="536.5" y="135.4551">pharmServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="516" y="153.0645">:PharmacyService</text><polygon fill="#A80036" points="847,196.4922,857,200.4922,847,204.4922,851,200.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="575" x2="853" y1="200.4922" y2="200.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="582" y="195.6357">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="593" y="195.6357">create()</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="859" y="178.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="868.5" y="199.6738">pharamcyDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="866" y="217.2832">:PharmacyDB</text><polygon fill="#A80036" points="558,277.0625,568,281.0625,558,285.0625,562,281.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="564" y1="281.0625" y2="281.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="268.0303">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="262" y="259.8545">nearbyPharamcy = getClosestPharmacyWithStock</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="262" y="276.2061">(pharmacy, product, quantity)</text><polygon fill="#A80036" points="894,323.7656,904,327.7656,894,331.7656,898,327.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580" x2="900" y1="327.7656" y2="327.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="587" y="314.7334">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="598" y="306.5576">nearbyPharamcy = getClosestPharmacyWithStock</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="598" y="322.9092">(pharmacy, product, quantity)</text><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="856" y="365.7656"/><polygon fill="#EEEEEE" points="856,365.7656,918,365.7656,918,373.7656,908,383.7656,856,383.7656,856,365.7656" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="869" y="381.2607">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="862" y="401.2607">SD_CONNECTIONS</text><polygon fill="#A80036" points="961,431.8203,971,435.8203,961,439.8203,965,435.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="967" y1="435.8203" y2="435.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="430.9639">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="262" y="430.9639">create()</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="973" y="413.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1000.5" y="435.002">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="980" y="452.6113">:PharmacyTransferService</text><polygon fill="#A80036" points="1293,496.0391,1303,500.0391,1293,504.0391,1297,500.0391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1066" x2="1299" y1="500.0391" y2="500.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1073" y="495.1826">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1084" y="495.1826">create()</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1305" y="477.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1325.5" y="499.2207">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1312" y="516.8301">:PharmacyTransferDB</text><polygon fill="#A80036" points="1049,576.6094,1059,580.6094,1049,584.6094,1053,580.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="1055" y1="580.6094" y2="580.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="251" y="567.5771">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="262" y="559.4014">newPharamacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="262" y="575.7529">(order, product, quantity, nearbyPharamcy)</text><polygon fill="#A80036" points="1461,606.9609,1471,610.9609,1461,614.9609,1465,610.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1071" x2="1467" y1="610.9609" y2="610.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1078" y="606.1045">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="1089" y="606.1045">create(order, product, quantity, nearbyPharamcy)</text><rect fill="#FEFECE" filter="url(#f1alpgncygvl6y)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="1473" y="588.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1482.5" y="610.1426">pharmacyTransfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1480" y="627.752">:PharmacyTransfer</text><polygon fill="#A80036" points="1054,671.1797,1064,675.1797,1054,679.1797,1058,675.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="244" x2="1060" y1="675.1797" y2="675.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="251" y="670.3232">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="269" y="670.3232">registersPharmacyTransfer(pharmacyTransfer)</text><polygon fill="#A80036" points="1367,701.5313,1377,705.5313,1367,709.5313,1371,705.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1076" x2="1373" y1="705.5313" y2="705.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1083" y="700.6748">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="1101" y="700.6748">registersPharmacyTransfer(pharmacyTransfer)</text><rect fill="#FFFFFF" filter="url(#f1alpgncygvl6y)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="160" x="1302" y="743.5313"/><polygon fill="#EEEEEE" points="1302,743.5313,1364,743.5313,1364,751.5313,1354,761.5313,1302,761.5313,1302,743.5313" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1315" y="759.0264">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1325" y="779.0264">SD_CONNECTIONS</text><!--MD5=[b237cd72b4536a3911b72f1496419795]
@startuml
autonumber
participant ":MakeAPharmacyTransferController" as CTRL
participant "pharmServ \n:PharmacyService" as PS
participant "pharamcyDB\n:PharmacyDB" as PDB
participant "pharmTransferServ \n:PharmacyTransferService" as PTS
participant "pharmTransferDB\n:PharmacyTransferDB" as PTDB
participant "pharmacyTransfer\n:PharmacyTransfer" as PT

[o-> CTRL : getStockFromAnotherPharamacy\n(order, product, quantity)
activate CTRL
CTRL -> PS** : create()
activate PS
PS -> PDB** : create()
deactivate PS
CTRL -> PS : nearbyPharamcy = getClosestPharmacyWithStock\n(pharmacy, product, quantity)
activate PS
PS -> PDB : nearbyPharamcy = getClosestPharmacyWithStock\n(pharmacy, product, quantity)
activate PDB
ref over PDB
SD_CONNECTIONS
end ref
deactivate PDB
deactivate PS

CTRL -> PTS** : create()
activate PTS
PTS -> PTDB** : create()
deactivate PTS

CTRL -> PTS : newPharamacyTransfer\n(order, product, quantity, nearbyPharamcy)
activate PTS
PTS -> PT** : create(order, product, quantity, nearbyPharamcy)
deactivate PS

CTRL -> PTS : registersPharmacyTransfer(pharmacyTransfer)
activate PTS
PTS -> PTDB : registersPharmacyTransfer(pharmacyTransfer)
activate PTDB
ref over PTDB
SD_CONNECTIONS
end ref
deactivate PTDB
deactivate PTS
deactivate CTRL

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.66
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>