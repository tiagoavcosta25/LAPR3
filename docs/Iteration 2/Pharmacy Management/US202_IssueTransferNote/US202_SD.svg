<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="449px" preserveAspectRatio="none" style="width:874px;height:449px;" version="1.1" viewBox="0 0 874 449" width="874px" zoomAndPan="magnify"><defs><filter height="300%" id="fnv85ff98imyj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="219.1406" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="152" y="105.9219"/><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="464" y="146.2734"/><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="464" y="264.7109"/><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="784" y="295.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="157" x2="157" y1="57.2188" y2="390.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="469" x2="469" y1="156.0313" y2="390.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="651" x2="651" y1="220.25" y2="390.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="789" x2="789" y1="57.2188" y2="390.7656"/><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="57" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="182" x="64" y="42.1426">:IssueTransferNoteController</text><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="57" y="389.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="182" x="64" y="411.2988">:IssueTransferNoteController</text><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="376" y="389.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="403.5" y="411.2988">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="383" y="428.9082">:PharmacyTransferService</text><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="572" y="389.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="592.5" y="411.2988">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="579" y="428.9082">:PharmacyTransferDB</text><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="740" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="747" y="42.1426">EmailSender</text><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="740" y="389.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="747" y="411.2988">EmailSender</text><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="219.1406" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="152" y="105.9219"/><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="464" y="146.2734"/><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="464" y="264.7109"/><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="784" y="295.0625"/><ellipse cx="10.5" cy="105.1719" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="140,101.9219,150,105.9219,140,109.9219,144,105.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="146" y1="105.9219" y2="105.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="18" y="92.8896">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="29" y="84.7139">issueTransferNote</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="29" y="101.0654">(pharmacyTransfer)</text><polygon fill="#A80036" points="364,132.2734,374,136.2734,364,140.2734,368,136.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="370" y1="136.2734" y2="136.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="169" y="131.417">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="180" y="131.417">create()</text><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="376" y="113.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="403.5" y="135.4551">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="383" y="153.0645">:PharmacyTransferService</text><polygon fill="#A80036" points="560,196.4922,570,200.4922,560,204.4922,564,200.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469" x2="566" y1="200.4922" y2="200.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="476" y="195.6357">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="487" y="195.6357">create()</text><rect fill="#FEFECE" filter="url(#fnv85ff98imyj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="572" y="178.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="592.5" y="199.6738">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="579" y="217.2832">:PharmacyTransferDB</text><polygon fill="#A80036" points="452,260.7109,462,264.7109,452,268.7109,456,264.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="458" y1="264.7109" y2="264.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="169" y="259.8545">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="180" y="259.8545">sendEmailWithTransferNote(pharmacyTransfer)</text><polygon fill="#A80036" points="772,291.0625,782,295.0625,772,299.0625,776,295.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="474" x2="778" y1="295.0625" y2="295.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="481" y="290.2061">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="492" y="290.2061">sendEmail(email, subject, body)</text><rect fill="#FFFFFF" filter="url(#fnv85ff98imyj)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="737" y="333.0625"/><polygon fill="#EEEEEE" points="737,333.0625,799,333.0625,799,341.0625,789,351.0625,737,351.0625,737,333.0625" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="750" y="348.5576">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="743" y="368.5576">SD_EMAILSENDER</text><!--MD5=[58985782f357d549cf9ed7a58452c5f0]
@startuml
autonumber
participant ":IssueTransferNoteController" as CTRL
participant "pharmTransferServ \n:PharmacyTransferService" as PTS
participant "pharmTransferDB\n:PharmacyTransferDB" as PTDB
participant "EmailSender" as E

[o-> CTRL : issueTransferNote\n(pharmacyTransfer)
activate CTRL
CTRL -> PTS** : create()
activate PTS
PTS -> PTDB** : create()
deactivate PTS

CTRL -> PTS : sendEmailWithTransferNote(pharmacyTransfer)
activate PTS
PTS -> E : sendEmail(email, subject, body)
activate E
ref over E
SD_EMAILSENDER
end ref
deactivate E
deactivate PTS
deactivate CTRL

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.66
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>