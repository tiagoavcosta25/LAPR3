<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="985px" preserveAspectRatio="none" style="width:1624px;height:985px;" version="1.1" viewBox="0 0 1624 985" width="1624px" zoomAndPan="magnify"><defs><filter height="300%" id="f1kyqsv9nlsvp8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="781.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="25.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="742.7656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="326.5" y="136.3125"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="634.3594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="590.5" y="166.6641"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="207.0156"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="325.4531"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="463.8594"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="602.2656"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="740.6719"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1396.5" y="355.8047"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1396.5" y="494.2109"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1534.5" y="632.6172"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1534.5" y="771.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="30" x2="30" y1="87.6094" y2="897.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="331" x2="331" y1="87.6094" y2="897.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="595" x2="595" y1="87.6094" y2="897.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="998.5" x2="998.5" y1="216.7734" y2="897.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1401.5" x2="1401.5" y1="280.9922" y2="897.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1539.5" x2="1539.5" y1="87.6094" y2="897.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="8" y="84.5332">Admin</text><ellipse cx="30.5" cy="13" fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M30.5,21 L30.5,48 M17.5,29 L43.5,29 M30.5,48 L17.5,63 M30.5,48 L43.5,63 " fill="none" filter="url(#f1kyqsv9nlsvp8)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="8" y="910.6113">Admin</text><ellipse cx="30.5" cy="923.6875" fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M30.5,931.6875 L30.5,958.6875 M17.5,939.6875 L43.5,939.6875 M30.5,958.6875 L17.5,973.6875 M30.5,958.6875 L43.5,973.6875 " fill="none" filter="url(#f1kyqsv9nlsvp8)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="258" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="265" y="72.5332">:IssueDeliveryNoteUI</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="258" y="896.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="265" y="917.6113">:IssueDeliveryNoteUI</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="497" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="504" y="72.5332">:IssueDeliveryNoteController</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="497" y="896.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="504" y="917.6113">:IssueDeliveryNoteController</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="905.5" y="896.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="933" y="917.6113">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="912.5" y="935.2207">:PharmacyTransferService</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1322.5" y="896.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1343" y="917.6113">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1329.5" y="935.2207">:PharmacyTransferDB</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1490.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1497.5" y="72.5332">EmailSender</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1490.5" y="896.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1497.5" y="917.6113">EmailSender</text><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="781.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="25.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="742.7656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="326.5" y="136.3125"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="634.3594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="590.5" y="166.6641"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="207.0156"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="325.4531"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="463.8594"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="602.2656"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="993.5" y="740.6719"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1396.5" y="355.8047"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1396.5" y="494.2109"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1534.5" y="632.6172"/><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1534.5" y="771.0234"/><polygon fill="#A80036" points="314.5,132.3125,324.5,136.3125,314.5,140.3125,318.5,136.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="320.5" y1="136.3125" y2="136.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="42.5" y="123.2803">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="53.5" y="115.1045">initiates the process of issue a delivery note</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="57.5" y="131.4561">by introducing the transfer's id</text><polygon fill="#A80036" points="578.5,162.6641,588.5,166.6641,578.5,170.6641,582.5,166.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="584.5" y1="166.6641" y2="166.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="343.5" y="161.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="354.5" y="161.8076">issueDeliveryNote(pharmacyTransferId)</text><polygon fill="#A80036" points="893.5,193.0156,903.5,197.0156,893.5,201.0156,897.5,197.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="600.5" x2="899.5" y1="197.0156" y2="197.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="607.5" y="192.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="618.5" y="192.1592">create()</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="905.5" y="174.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="933" y="196.1973">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="912.5" y="213.8066">:PharmacyTransferService</text><polygon fill="#A80036" points="1310.5,257.2344,1320.5,261.2344,1310.5,265.2344,1314.5,261.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="998.5" x2="1316.5" y1="261.2344" y2="261.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1005.5" y="256.3779">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1016.5" y="256.3779">create()</text><rect fill="#FEFECE" filter="url(#f1kyqsv9nlsvp8)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1322.5" y="238.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1343" y="260.416">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1329.5" y="278.0254">:PharmacyTransferDB</text><polygon fill="#A80036" points="981.5,321.4531,991.5,325.4531,981.5,329.4531,985.5,325.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="600.5" x2="987.5" y1="325.4531" y2="325.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="607.5" y="320.5967">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="363" x="618.5" y="320.5967">pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)</text><polygon fill="#A80036" points="1384.5,351.8047,1394.5,355.8047,1384.5,359.8047,1388.5,355.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1003.5" x2="1390.5" y1="355.8047" y2="355.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1010.5" y="350.9482">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="363" x="1021.5" y="350.9482">pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)</text><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="160" x="1319.5" y="393.8047"/><polygon fill="#EEEEEE" points="1319.5,393.8047,1381.5,393.8047,1381.5,401.8047,1371.5,411.8047,1319.5,411.8047,1319.5,393.8047" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1332.5" y="409.2998">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1342.5" y="429.2998">SD_CONNECTIONS</text><polygon fill="#A80036" points="981.5,459.8594,991.5,463.8594,981.5,467.8594,985.5,463.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="600.5" x2="987.5" y1="463.8594" y2="463.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="607.5" y="459.0029">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="618.5" y="459.0029">updateStockFromTransfer(pharmacyTransferId)</text><polygon fill="#A80036" points="1384.5,490.2109,1394.5,494.2109,1384.5,498.2109,1388.5,494.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1003.5" x2="1390.5" y1="494.2109" y2="494.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1010.5" y="489.3545">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="1021.5" y="489.3545">updateStockFromTransfer(pharmacyTransferId)</text><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="160" x="1319.5" y="532.2109"/><polygon fill="#EEEEEE" points="1319.5,532.2109,1381.5,532.2109,1381.5,540.2109,1371.5,550.2109,1319.5,550.2109,1319.5,532.2109" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1332.5" y="547.7061">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1342.5" y="567.7061">SD_CONNECTIONS</text><polygon fill="#A80036" points="981.5,598.2656,991.5,602.2656,981.5,606.2656,985.5,602.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="600.5" x2="987.5" y1="602.2656" y2="602.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="607.5" y="597.4092">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="618.5" y="597.4092">sendEmailWithDeliveryNote(pharmacyTransfer)</text><polygon fill="#A80036" points="1522.5,628.6172,1532.5,632.6172,1522.5,636.6172,1526.5,632.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1003.5" x2="1528.5" y1="632.6172" y2="632.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1010.5" y="627.7607">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="1028.5" y="627.7607">emailSender(email,subject,body)</text><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1487.5" y="670.6172"/><polygon fill="#EEEEEE" points="1487.5,670.6172,1549.5,670.6172,1549.5,678.6172,1539.5,688.6172,1487.5,688.6172,1487.5,670.6172" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1500.5" y="686.1123">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1493.5" y="706.1123">SD_EMAILSENDER</text><polygon fill="#A80036" points="981.5,736.6719,991.5,740.6719,981.5,744.6719,985.5,740.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="600.5" x2="987.5" y1="740.6719" y2="740.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="607.5" y="735.8154">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="625.5" y="735.8154">sendEmailWithDeliveryNote(pharmacyTransfer)</text><polygon fill="#A80036" points="1522.5,767.0234,1532.5,771.0234,1522.5,775.0234,1526.5,771.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1003.5" x2="1528.5" y1="771.0234" y2="771.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1010.5" y="766.167">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="1028.5" y="766.167">emailSender(email,subject,body)</text><rect fill="#FFFFFF" filter="url(#f1kyqsv9nlsvp8)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1487.5" y="809.0234"/><polygon fill="#EEEEEE" points="1487.5,809.0234,1549.5,809.0234,1549.5,817.0234,1539.5,827.0234,1487.5,827.0234,1487.5,809.0234" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1500.5" y="824.5186">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1493.5" y="844.5186">SD_EMAILSENDER</text><polygon fill="#A80036" points="41.5,875.0781,31.5,879.0781,41.5,883.0781,37.5,879.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="330.5" y1="879.0781" y2="879.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="47.5" y="874.2217">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="65.5" y="874.2217">Informs the success of the operation</text><!--MD5=[1d2a23170848b606ccfea78fa0b2c83d]
@startuml
autonumber
actor "Admin" as ADMIN

participant ":IssueDeliveryNoteUI" as UI
participant ":IssueDeliveryNoteController" as CTRL
participant "pharmTransferServ \n:PharmacyTransferService" as PTS
participant "pharmTransferDB\n:PharmacyTransferDB" as PTDB
participant "EmailSender" as E

activate ADMIN

ADMIN -> UI :initiates the process of issue a delivery note  \n by introducing the transfer's id
activate UI
UI -> CTRL : issueDeliveryNote(pharmacyTransferId)
activate CTRL
CTRL -> PTS** : create()
activate PTS
PTS -> PTDB** : create()
deactivate PTS
CTRL -> PTS : pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)
activate PTS
PTS -> PTDB : pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)
activate PTDB
ref over PTDB
SD_CONNECTIONS
end
deactivate PTDB
deactivate PTS
CTRL -> PTS : updateStockFromTransfer(pharmacyTransferId)
activate PTS
PTS -> PTDB : updateStockFromTransfer(pharmacyTransferId)
activate PTDB
ref over PTDB
SD_CONNECTIONS
end
deactivate PTDB
deactivate PTS
CTRL -> PTS : sendEmailWithDeliveryNote(pharmacyTransfer)
activate PTS
PTS -> E : emailSender(email,subject,body)
activate E
ref over E
SD_EMAILSENDER
end
deactivate E
deactivate PTS
CTRL -> PTS : sendEmailWithDeliveryNote(pharmacyTransfer)
activate PTS
PTS -> E : emailSender(email,subject,body)
activate E
ref over E
SD_EMAILSENDER
end
deactivate E
deactivate PTS
deactivate CTRL
UI -> ADMIN : Informs the success of the operation
deactivate UI

deactivate ADMIN

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>