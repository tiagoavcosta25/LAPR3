<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="863px" preserveAspectRatio="none" style="width:1542px;height:863px;" version="1.1" viewBox="0 0 1542 863" width="1542px" zoomAndPan="magnify"><defs><filter height="300%" id="fjnmi6zjv6m8z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="659.4141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="25.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="620.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="326.5" y="136.3125"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="495.9531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="508.5" y="183.0156"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="223.3672"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="341.8047"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="480.2109"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="618.6172"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1314.5" y="372.1563"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1314.5" y="510.5625"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1452.5" y="648.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="30" x2="30" y1="87.6094" y2="775.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="331" x2="331" y1="87.6094" y2="775.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="513" x2="513" y1="87.6094" y2="775.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="916.5" x2="916.5" y1="233.125" y2="775.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1319.5" x2="1319.5" y1="297.3438" y2="775.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1457.5" x2="1457.5" y1="87.6094" y2="775.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="8" y="84.5332">Admin</text><ellipse cx="30.5" cy="13" fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M30.5,21 L30.5,48 M17.5,29 L43.5,29 M30.5,48 L17.5,63 M30.5,48 L43.5,63 " fill="none" filter="url(#fjnmi6zjv6m8z)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="8" y="788.5566">Admin</text><ellipse cx="30.5" cy="801.6328" fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M30.5,809.6328 L30.5,836.6328 M17.5,817.6328 L43.5,817.6328 M30.5,836.6328 L17.5,851.6328 M30.5,836.6328 L43.5,851.6328 " fill="none" filter="url(#fjnmi6zjv6m8z)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="258" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="265" y="72.5332">:IssueDeliveryNoteUI</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="258" y="774.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="265" y="795.5566">:IssueDeliveryNoteUI</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="415" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="422" y="72.5332">:IssueDeliveryNoteController</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="415" y="774.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="422" y="795.5566">:IssueDeliveryNoteController</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="823.5" y="774.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="851" y="795.5566">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="830.5" y="813.166">:PharmacyTransferService</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1240.5" y="774.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1261" y="795.5566">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1247.5" y="813.166">:PharmacyTransferDB</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1408.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1415.5" y="72.5332">EmailSender</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1408.5" y="774.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1415.5" y="795.5566">EmailSender</text><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="659.4141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="25.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="620.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="326.5" y="136.3125"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="495.9531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="508.5" y="183.0156"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="54.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="223.3672"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="341.8047"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="480.2109"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="618.6172"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1314.5" y="372.1563"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1314.5" y="510.5625"/><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1452.5" y="648.9688"/><polygon fill="#A80036" points="314.5,132.3125,324.5,136.3125,314.5,140.3125,318.5,136.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="320.5" y1="136.3125" y2="136.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="42.5" y="123.2803">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="53.5" y="115.1045">initiates the process of issue a delivery note</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="57.5" y="131.4561">by introducing the transfer's id</text><polygon fill="#A80036" points="496.5,179.0156,506.5,183.0156,496.5,187.0156,500.5,183.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="502.5" y1="183.0156" y2="183.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="343.5" y="169.9834">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="354.5" y="161.8076">issueDeliveryNote</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="354.5" y="178.1592">(pharmacyTransferId)</text><polygon fill="#A80036" points="811.5,209.3672,821.5,213.3672,811.5,217.3672,815.5,213.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518.5" x2="817.5" y1="213.3672" y2="213.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="525.5" y="208.5107">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="536.5" y="208.5107">create()</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="823.5" y="191.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="851" y="212.5488">pharmTransferServ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="830.5" y="230.1582">:PharmacyTransferService</text><polygon fill="#A80036" points="1228.5,273.5859,1238.5,277.5859,1228.5,281.5859,1232.5,277.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="1234.5" y1="277.5859" y2="277.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="923.5" y="272.7295">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="934.5" y="272.7295">create()</text><rect fill="#FEFECE" filter="url(#fjnmi6zjv6m8z)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="1240.5" y="255.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1261" y="276.7676">pharmTransferDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="1247.5" y="294.377">:PharmacyTransferDB</text><polygon fill="#A80036" points="899.5,337.8047,909.5,341.8047,899.5,345.8047,903.5,341.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518.5" x2="905.5" y1="341.8047" y2="341.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="525.5" y="336.9482">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="363" x="536.5" y="336.9482">pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)</text><polygon fill="#A80036" points="1302.5,368.1563,1312.5,372.1563,1302.5,376.1563,1306.5,372.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="921.5" x2="1308.5" y1="372.1563" y2="372.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="928.5" y="367.2998">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="363" x="939.5" y="367.2998">pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)</text><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="160" x="1237.5" y="410.1563"/><polygon fill="#EEEEEE" points="1237.5,410.1563,1299.5,410.1563,1299.5,418.1563,1289.5,428.1563,1237.5,428.1563,1237.5,410.1563" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1250.5" y="425.6514">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1260.5" y="445.6514">SD_CONNECTIONS</text><polygon fill="#A80036" points="899.5,476.2109,909.5,480.2109,899.5,484.2109,903.5,480.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518.5" x2="905.5" y1="480.2109" y2="480.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="525.5" y="475.3545">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="536.5" y="475.3545">updateStockFromTransfer(pharmacyTransfer)</text><polygon fill="#A80036" points="1302.5,506.5625,1312.5,510.5625,1302.5,514.5625,1306.5,510.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="921.5" x2="1308.5" y1="510.5625" y2="510.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="928.5" y="505.7061">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="939.5" y="505.7061">updateStockFromTransfer(pharmacyTransfer)</text><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="160" x="1237.5" y="548.5625"/><polygon fill="#EEEEEE" points="1237.5,548.5625,1299.5,548.5625,1299.5,556.5625,1289.5,566.5625,1237.5,566.5625,1237.5,548.5625" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1250.5" y="564.0576">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1260.5" y="584.0576">SD_CONNECTIONS</text><polygon fill="#A80036" points="899.5,614.6172,909.5,618.6172,899.5,622.6172,903.5,618.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518.5" x2="905.5" y1="618.6172" y2="618.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="525.5" y="613.7607">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="536.5" y="613.7607">sendEmailWithDeliveryNote(pharmacyTransfer)</text><polygon fill="#A80036" points="1440.5,644.9688,1450.5,648.9688,1440.5,652.9688,1444.5,648.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="921.5" x2="1446.5" y1="648.9688" y2="648.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="928.5" y="644.1123">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="946.5" y="644.1123">sendEmail(email,subject,body)</text><rect fill="#FFFFFF" filter="url(#fjnmi6zjv6m8z)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="126" x="1405.5" y="686.9688"/><polygon fill="#EEEEEE" points="1405.5,686.9688,1467.5,686.9688,1467.5,694.9688,1457.5,704.9688,1405.5,704.9688,1405.5,686.9688" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1418.5" y="702.4639">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1411.5" y="722.4639">SD_EMAILSENDER</text><polygon fill="#A80036" points="41.5,753.0234,31.5,757.0234,41.5,761.0234,37.5,757.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="330.5" y1="757.0234" y2="757.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="47.5" y="752.167">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="65.5" y="752.167">Informs the success of the operation</text><!--MD5=[28dae2c7e4affb6023381645647a38d3]
@startuml
autonumber
actor "Admin" as ADMIN

participant ":IssueDeliveryNoteUI" as UI
participant ":IssueDeliveryNoteController" as CTRL
participant "pharmTransferServ \n:PharmacyTransferService" as PTS
participant "pharmTransferDB\n:PharmacyTransferDB" as PTDB
participant "EmailSender" as E

activate ADMIN

ADMIN -> UI :initiates the process of issue a delivery note  \n by introducing the transfer's id
activate UI
UI -> CTRL : issueDeliveryNote\n(pharmacyTransferId)
activate CTRL
CTRL -> PTS** : create()
activate PTS
PTS -> PTDB** : create()
deactivate PTS
CTRL -> PTS : pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)
activate PTS
PTS -> PTDB : pharmacyTransfer = getPharmacyTransfer(pharmacyTransferId)
activate PTDB
ref over PTDB
SD_CONNECTIONS
end 
deactivate PTDB
deactivate PTS
CTRL -> PTS : updateStockFromTransfer(pharmacyTransfer)
activate PTS
PTS -> PTDB : updateStockFromTransfer(pharmacyTransfer)
activate PTDB
ref over PTDB
SD_CONNECTIONS
end 
deactivate PTDB
deactivate PTS
CTRL -> PTS : sendEmailWithDeliveryNote(pharmacyTransfer)
activate PTS
PTS -> E : sendEmail(email,subject,body)
activate E
ref over E
SD_EMAILSENDER
end 
deactivate E
deactivate PTS
deactivate CTRL
UI -> ADMIN : Informs the success of the operation
deactivate UI

deactivate ADMIN

@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>